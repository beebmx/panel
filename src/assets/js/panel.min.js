!function($){function e(){r.hasClass(u)?o.toggleClass(d):o.toggleClass(c),g&&r.one("transitionend",function(){g.focus()})}function t(){r.hasClass(u)?o.removeClass(d):o.removeClass(c)}function i(){r.hasClass(u)?(o.addClass(d),r.animate({left:"0px"},m),s.animate({left:v},m),l.animate({left:v},m)):(o.addClass(c),r.animate({right:"0px"},m),s.animate({right:v},m),l.animate({right:v},m)),g&&g.focus()}function a(){r.hasClass(u)?(o.removeClass(d),r.animate({left:"-"+v},m),s.animate({left:"0px"},m),l.animate({left:"0px"},m)):(o.removeClass(c),r.animate({right:"-"+v},m),s.animate({right:"0px"},m),l.animate({right:"0px"},m))}function n(){$(y).addClass(w),$(y).on("click",function(){var e=$(this);e.hasClass(w)?($(y).addClass(w).removeClass(b),e.removeClass(w).addClass(b)):e.addClass(w).removeClass(b)})}var r=$(".pushy"),o=$("body"),s=$("#container"),l=$(".push"),u="pushy-left",d="pushy-open-left",c="pushy-open-right",h=$(".site-overlay"),p=$(".menu-btn, .pushy-link"),f=$(".menu-btn"),g=$(r.data("focus")),m=200,v=r.width()+"px",y=".pushy-submenu",b="pushy-submenu-open",w="pushy-submenu-closed",_=$(y);$(document).keyup(function(e){27==e.keyCode&&(o.hasClass(d)||o.hasClass(c))&&(D?t():(a(),x=!1),f&&f.focus())});var D=function e(){var t=document.createElement("p"),i=!1,a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};if(null!==document.body){document.body.insertBefore(t,null);for(var n in a)void 0!==t.style[n]&&(t.style[n]="translate3d(1px,1px,1px)",i=window.getComputedStyle(t).getPropertyValue(a[n]));return document.body.removeChild(t),void 0!==i&&i.length>0&&"none"!==i}return!1}();if(D)n(),p.on("click",function(){e()}),h.on("click",function(){e()});else{o.addClass("no-csstransforms3d"),r.hasClass(u)?r.css({left:"-"+v}):r.css({right:"-"+v}),s.css({"overflow-x":"hidden"});var x=!1;n(),p.on("click",function(){x?(a(),x=!1):(i(),x=!0)}),h.on("click",function(){x?(a(),x=!1):(i(),x=!0)})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function($){var e=0,t=Array.prototype.slice;$.cleanData=function(e){return function(t){var i,a,n;for(n=0;null!=(a=t[n]);n++)try{i=$._data(a,"events"),i&&i.remove&&$(a).triggerHandler("remove")}catch(e){}e(t)}}($.cleanData),$.widget=function(e,t,i){var a,n,r,o,s={},l=e.split(".")[0];return e=e.split(".")[1],a=l+"-"+e,i||(i=t,t=$.Widget),$.expr[":"][a.toLowerCase()]=function(e){return!!$.data(e,a)},$[l]=$[l]||{},n=$[l][e],r=$[l][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},$.extend(r,n,{version:i.version,_proto:$.extend({},i),_childConstructors:[]}),o=new t,o.options=$.widget.extend({},o.options),$.each(i,function(e,i){return $.isFunction(i)?void(s[e]=function(){var a=function(){return t.prototype[e].apply(this,arguments)},n=function(i){return t.prototype[e].apply(this,i)};return function(){var e=this._super,t=this._superApply,r;return this._super=a,this._superApply=n,r=i.apply(this,arguments),this._super=e,this._superApply=t,r}}()):void(s[e]=i)}),r.prototype=$.widget.extend(o,{widgetEventPrefix:n?o.widgetEventPrefix||e:e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:a}),n?($.each(n._childConstructors,function(e,t){var i=t.prototype;$.widget(i.namespace+"."+i.widgetName,r,t._proto)}),delete n._childConstructors):t._childConstructors.push(r),$.widget.bridge(e,r),r},$.widget.extend=function(e){for(var i=t.call(arguments,1),a=0,n=i.length,r,o;a<n;a++)for(r in i[a])o=i[a][r],i[a].hasOwnProperty(r)&&void 0!==o&&($.isPlainObject(o)?e[r]=$.isPlainObject(e[r])?$.widget.extend({},e[r],o):$.widget.extend({},o):e[r]=o);return e},$.widget.bridge=function(e,i){var a=i.prototype.widgetFullName||e;$.fn[e]=function(n){var r="string"==typeof n,o=t.call(arguments,1),s=this;return r?this.each(function(){var t,i=$.data(this,a);return"instance"===n?(s=i,!1):i?$.isFunction(i[n])&&"_"!==n.charAt(0)?(t=i[n].apply(i,o),t!==i&&void 0!==t?(s=t&&t.jquery?s.pushStack(t.get()):t,!1):void 0):$.error("no such method '"+n+"' for "+e+" widget instance"):$.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}):(o.length&&(n=$.widget.extend.apply(null,[n].concat(o))),this.each(function(){var e=$.data(this,a);e?(e.option(n||{}),e._init&&e._init()):$.data(this,a,new i(n,this))})),s}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=$(i||this.defaultElement||this)[0],this.element=$(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),i!==this&&($.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=$(i.style?i.ownerDocument:i.document||i),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(e,t){var i=e,a,n,r;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof e)if(i={},a=e.split("."),e=a.shift(),a.length){for(n=i[e]=$.widget.extend({},this.options[e]),r=0;r<a.length-1;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(e=a.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];i[e]=t}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,t,i){var a,n=this;"boolean"!=typeof e&&(i=t,t=e,e=!1),i?(t=a=$(t),this.bindings=this.bindings.add(t)):(i=t,t=this.element,a=this.widget()),$.each(i,function(i,r){function o(){if(e||n.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof r?n[r]:r).apply(n,arguments)}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||$.guid++);var s=i.match(/^([\w:-]*)\s*(.*)$/),l=s[1]+n.eventNamespace,u=s[2];u?a.delegate(u,l,o):t.bind(l,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=$(this.bindings.not(e).get()),this.focusable=$(this.focusable.not(e).get()),this.hoverable=$(this.hoverable.not(e).get())},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){$(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){$(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){$(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){$(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var a,n,r=this.options[e];if(i=i||{},t=$.Event(t),t.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],n=t.originalEvent)for(a in n)a in t||(t[a]=n[a]);return this.element.trigger(t,i),!($.isFunction(r)&&r.apply(this.element[0],[t].concat(i))===!1||t.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(e,t){$.Widget.prototype["_"+e]=function(i,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?t:a.effect||t:e;a=a||{},"number"==typeof a&&(a={duration:a}),r=!$.isEmptyObject(a),a.complete=n,a.delay&&i.delay(a.delay),r&&$.effects&&$.effects.effect[o]?i[e](a):o!==e&&i[o]?i[o](a.duration,a.easing,n):i.queue(function(t){$(this)[e](),n&&n.call(i[0]),t()})}});var i=$.widget}),!function(e){"use strict";function t(e,i,a){var n,r=document.createElement("img");if(r.onerror=function(n){return t.onerror(r,n,e,i,a)},r.onload=function(n){return t.onload(r,n,e,i,a)},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))n=r._objectURL=t.createObjectURL(e);else{if("string"!=typeof e)return!1;n=e,a&&a.crossOrigin&&(r.crossOrigin=a.crossOrigin)}return n?(r.src=n,r):t.readFile(e,function(e){var t=e.target;t&&t.result?r.src=t.result:i&&i(e)})}function i(e,i){!e._objectURL||i&&i.noRevoke||(t.revokeObjectURL(e._objectURL),delete e._objectURL)}var a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,i,a,n,r){a(t.scale(e,i,r),r)},t.onerror=function(e,t,a,n,r){i(e,r),n&&n.call(e,t)},t.onload=function(e,a,n,r,o){i(e,o),r&&t.transform(e,o,r,n,{})},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var i,a,n,r,o=t.aspectRatio;if(!o)return t;i={};for(a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);return i.crop=!0,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height,n/r>o?(i.maxWidth=r*o,i.maxHeight=r):(i.maxWidth=n,i.maxHeight=n/o),i},t.renderImageToCanvas=function(e,t,i,a,n,r,o,s,l,u){return e.getContext("2d").drawImage(t,i,a,n,r,o,s,l,u),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},t.scale=function(e,i,a){function n(){var e=Math.max((l||_)/_,(u||D)/D);e>1&&(_*=e,D*=e)}function r(){var e=Math.min((o||_)/_,(s||D)/D);e<1&&(_*=e,D*=e)}i=i||{};var o,s,l,u,d,c,h,p,f,g,m,v=document.createElement("canvas"),y=e.getContext||t.hasCanvasOption(i)&&v.getContext,b=e.naturalWidth||e.width,w=e.naturalHeight||e.height,_=b,D=w;if(y&&(i=t.getTransformedOptions(e,i,a),h=i.left||0,p=i.top||0,i.sourceWidth?(d=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(h=b-d-i.right)):d=b-h-(i.right||0),i.sourceHeight?(c=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(p=w-c-i.bottom)):c=w-p-(i.bottom||0),_=d,D=c),o=i.maxWidth,s=i.maxHeight,l=i.minWidth,u=i.minHeight,y&&o&&s&&i.crop?(_=o,D=s,m=d/c-o/s,m<0?(c=s*d/o,void 0===i.top&&void 0===i.bottom&&(p=(w-c)/2)):m>0&&(d=o*c/s,void 0===i.left&&void 0===i.right&&(h=(b-d)/2))):((i.contain||i.cover)&&(l=o=o||l,u=s=s||u),i.cover?(r(),n()):(n(),r())),y){if(f=i.pixelRatio,f>1&&(v.style.width=_+"px",v.style.height=D+"px",_*=f,D*=f,v.getContext("2d").scale(f,f)),g=i.downsamplingRatio,g>0&&g<1&&_<d&&D<c)for(;d*g>_;)v.width=d*g,v.height=c*g,t.renderImageToCanvas(v,e,h,p,d,c,0,0,v.width,v.height),h=0,p=0,d=v.width,c=v.height,e=document.createElement("canvas"),e.width=d,e.height=c,t.renderImageToCanvas(e,v,0,0,d,c,0,0,d,c);return v.width=_,v.height=D,t.transformCoordinates(v,i),t.renderImageToCanvas(v,e,h,p,d,c,0,0,_,D)}return e.width=_,e.height=D,e},t.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},t.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},t.readFile=function(e,t,i){if(window.FileReader){var a=new FileReader;if(a.onload=a.onerror=t,i=i||"readAsDataURL",a[i])return a[i](e),a}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,a,n){a=a||{},n=n||{};var r=this,o=a.maxMetaDataSize||262144,s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,o),function(t){if(t.target.error)return console.log(t.target.error),void i(n);var o,s,l,u,d=t.target.result,c=new DataView(d),h=2,p=c.byteLength-4,f=h;if(65496===c.getUint16(0)){for(;h<p&&(o=c.getUint16(h),o>=65504&&o<=65519||65534===o);){if(s=c.getUint16(h+2)+2,h+s>c.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[o])for(u=0;u<l.length;u+=1)l[u].call(r,c,h,s,n,a);h+=s,f=h}!a.disableImageHead&&f>6&&(d.slice?n.imageHead=d.slice(0,f):n.imageHead=new Uint8Array(d).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(n)},"readAsArrayBuffer")||i(n)},e.hasMetaOption=function(e){return e.meta};var i=e.transform;e.transform=function(t,a,n,r,o){e.hasMetaOption(a||{})?e.parseMetaData(r,function(o){i.call(e,t,a,n,r,o)},a,o):i.apply(e,arguments)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var a,n,r;if(!i||t+i>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(a=[],n=0;n<i;n+=1)r=e.getUint8(t+n),a.push((r<16?"0":"")+r.toString(16));return"data:image/jpeg,%"+a.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,a,n,r,o){var s,l,u,d,c,h,p=e.exifTagTypes[n];if(!p)return void console.log("Invalid Exif data: Invalid tag type.");if(s=p.size*r,l=s>4?i+t.getUint32(a+8,o):a+8,l+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===r)return p.getValue(t,l,o);for(u=[],d=0;d<r;d+=1)u[d]=p.getValue(t,l+d*p.size,o);if(p.ascii){for(c="",d=0;d<u.length&&(h=u[d],"\0"!==h);d+=1)c+=h;return c}return u},e.parseExifTag=function(t,i,a,n,r){var o=t.getUint16(a,n);r.exif[o]=e.getExifValue(t,i,a,t.getUint16(a+2,n),t.getUint32(a+4,n),n)},e.parseExifTags=function(e,t,i,a,n){var r,o,s;if(i+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(i,a),o=i+2+12*r,o+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;s<r;s+=1)this.parseExifTag(e,t,i+2+12*s,a,n);return e.getUint32(o,a)},e.parseExifData=function(t,i,a,n,r){if(!r.disableExif){var o,s,l,u=i+10;if(1165519206===t.getUint32(i+4)){if(u+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,o))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(u+4,o),n.exif=new e.ExifMap,s=e.parseExifTags(t,u,u+s,o,n),s&&!r.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,u,u+s,o,l),l.exif[513]&&(n.exif.Thumbnail=e.getExifThumbnail(t,u+l.exif[513],l.exif[514]))),n.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,u,u+n.exif[34665],o,n),n.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,u,u+n.exif[34853],o,n)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,i=e.tags,a=e.map;for(t in i)i.hasOwnProperty(t)&&(a[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(i[t]=this.getText(t)));return i}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption,i=e.hasMetaOption,a=e.transformCoordinates,n=e.getTransformedOptions;e.hasCanvasOption=function(i){return!!i.orientation||t.call(e,i)},e.hasMetaOption=function(t){return t.orientation===!0||i.call(e,t)},e.transformCoordinates=function(t,i){a.call(e,t,i);var n=t.getContext("2d"),r=t.width,o=t.height,s=t.style.width,l=t.style.height,u=i.orientation;if(u&&!(u>8))switch(u>4&&(t.width=o,t.height=r,t.style.width=l,t.style.height=s),u){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,o),n.rotate(Math.PI);break;case 4:n.translate(0,o),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-o);break;case 7:n.rotate(.5*Math.PI),n.translate(r,-o),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r,0)}},e.getTransformedOptions=function(t,i,a){var r,o,s=n.call(e,t,i),l=s.orientation;if(l===!0&&a&&a.exif&&(l=a.exif.get("Orientation")),!l||l>8||1===l)return s;r={};for(o in s)s.hasOwnProperty(o)&&(r[o]=s[o]);switch(r.orientation=l,l){case 2:r.left=s.right,r.right=s.left;break;case 3:r.left=s.right,r.top=s.bottom,r.right=s.left,r.bottom=s.top;break;case 4:r.top=s.bottom,r.bottom=s.top;break;case 5:r.left=s.top,r.top=s.left,r.right=s.bottom,r.bottom=s.right;break;case 6:r.left=s.top,r.top=s.right,r.right=s.bottom,r.bottom=s.left;break;case 7:r.left=s.bottom,r.top=s.right,r.right=s.top,r.bottom=s.left;break;case 8:r.left=s.bottom,r.top=s.left,r.right=s.top,r.bottom=s.right}return r.orientation>4&&(r.maxWidth=s.maxHeight,r.maxHeight=s.maxWidth,r.minWidth=s.minHeight,r.minHeight=s.minWidth,r.sourceWidth=s.sourceHeight,r.sourceHeight=s.sourceWidth),r}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function($){"use strict";var e=0,t=$,i="parseJSON";"JSON"in window&&"parse"in JSON&&(t=JSON,i="parse"),$.ajaxTransport("iframe",function(t){if(t.async){var i=t.initialIframeSrc||"javascript:false;",a,n,r;return{send:function(o,s){a=$('<form style="display:none;"></form>'),a.attr("accept-charset",t.formAcceptCharset),r=/\?/.test(t.url)?"&":"?","DELETE"===t.type?(t.url=t.url+r+"_method=DELETE",t.type="POST"):"PUT"===t.type?(t.url=t.url+r+"_method=PUT",t.type="POST"):"PATCH"===t.type&&(t.url=t.url+r+"_method=PATCH",t.type="POST"),e+=1,n=$('<iframe src="'+i+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,r=$.isArray(t.paramName)?t.paramName:[t.paramName];n.unbind("load").bind("load",function(){var e;try{if(e=n.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=void 0}s(200,"success",{iframe:e}),$('<iframe src="'+i+'"></iframe>').appendTo(a),window.setTimeout(function(){a.remove()},0)}),a.prop("target",n.prop("name")).prop("action",t.url).prop("method",t.type),t.formData&&$.each(t.formData,function(e,t){$('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(a)}),t.fileInput&&t.fileInput.length&&"POST"===t.type&&(e=t.fileInput.clone(),t.fileInput.after(function(t){return e[t]}),t.paramName&&t.fileInput.each(function(e){$(this).prop("name",r[e]||t.paramName)}),a.append(t.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),t.fileInput.removeAttr("form")),a.submit(),e&&e.length&&t.fileInput.each(function(t,i){var a=$(e[t]);$(i).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(i)})}),a.append(n).appendTo(document.body)},abort:function(){n&&n.unbind("load").prop("src",i),a&&a.remove()}}}}),$.ajaxSetup({converters:{"iframe text":function(e){return e&&$(e[0].body).text()},"iframe json":function(e){return e&&t[i]($(e[0].body).text())},"iframe html":function(e){return e&&$(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&$.isXMLDoc(t)?t:$.parseXML(t.XMLDocument&&t.XMLDocument.xml||$(t.body).html())},"iframe script":function(e){return e&&$.globalEval($(e[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function($){"use strict";function e(e){var t="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var a=i.dataTransfer;a&&$.inArray("Files",a.types)!==-1&&this._trigger(e,$.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),t&&(a.dropEffect="copy"))}}$.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||$('<input type="file">').prop("disabled")),$.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),$.support.xhrFormDataFileUpload=!!window.FormData,$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),$.widget("blueimp.fileupload",{options:{dropZone:$(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,t){return e=this.messages[e]||e.toString(),t&&$.each(t,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(e){return e.serializeArray()},add:function(e,t){return!e.isDefaultPrevented()&&void((t.autoUpload||t.autoUpload!==!1&&$(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:$.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var a=e-this.timestamp;return(!this.bitrate||!i||a>i)&&(this.bitrate=(t-this.loaded)*(1e3/a)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload)},_getFormData:function(e){var t;return"function"===$.type(e.formData)?e.formData(e.form):$.isArray(e.formData)?e.formData:"object"===$.type(e.formData)?(t=[],$.each(e.formData,function(e,i){t.push({name:e,value:i})}),t):[]},_getTotal:function(e){var t=0;return $.each(e,function(e,i){t+=i.size||1}),t},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?$.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var i=Date.now?Date.now():(new Date).getTime(),a;if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,a=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=a-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=a,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,a,t.bitrateInterval),this._trigger("progress",$.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",$.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var t=this,i=e.xhr?e.xhr():$.ajaxSettings.xhr();i.upload&&($(i.upload).bind("progress",function(i){var a=i.originalEvent;i.lengthComputable=a.lengthComputable,i.loaded=a.loaded,i.total=a.total,t._onProgress(i,e)}),e.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(e){
var t=this,i,a=e.files[0],n=e.multipart||!$.support.xhrFileUpload,r="array"===$.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=$.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),n&&!e.blob&&this._isInstanceOf("File",a)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.name)+'"'),n?$.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):$.each(e.files,function(t,a){i.push({name:"array"===$.type(e.paramName)&&e.paramName[t]||r,value:a})})):(t._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,$.each(this._getFormData(e),function(e,t){i.append(t.name,t.value)})),e.blob?i.append(r,e.blob,a.name):$.each(e.files,function(a,n){(t._isInstanceOf("File",n)||t._isInstanceOf("Blob",n))&&i.append("array"===$.type(e.paramName)&&e.paramName[a]||r,n,n.uploadName||n.name)})),e.data=i):(e.contentType=a.type||"application/octet-stream",e.data=e.blob||a),e.blob=null},_initIframeSettings:function(e){var t=$("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=$(e.fileInput),i=e.paramName;return i?$.isArray(i)||(i=[i]):(i=[],t.each(function(){for(var e=$(this),t=e.prop("name")||"files[]",a=(e.prop("files")||[1]).length;a;)i.push(t),a-=1}),i.length||(i=[t.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=$(e.fileInput.prop("form")),e.form.length||(e.form=$(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===$.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=$.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,i){var a=$.Deferred(),n=a.promise();return t=t||this.options.context||n,e===!0?a.resolveWith(t,i):e===!1&&a.rejectWith(t,i),n.abort=a.promise,this._enhancePromise(n)},_addConvenienceMethods:function(e,t){var i=this,a=function(e){return $.Deferred().resolveWith(i,e).promise()};t.process=function(e,n){return(e||n)&&(t._processQueue=this._processQueue=(this._processQueue||a([this])).then(function(){return t.errorThrown?$.Deferred().rejectWith(i,[t]).promise():a(arguments)}).then(e,n)),this._processQueue||a([this])},t.submit=function(){return"pending"!==this.state()&&(t.jqXHR=this.jqXHR=i._trigger("submit",$.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},t.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},t.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},t.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},t.progress=function(){return this._progress},t.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),a=i&&i.length>1&&parseInt(i[1],10);return a&&a+1},_chunkedUpload:function(e,t){e.uploadedBytes=e.uploadedBytes||0;var i=this,a=e.files[0],n=a.size,r=e.uploadedBytes,o=e.maxChunkSize||n,s=this._blobSlice,l=$.Deferred(),u=l.promise(),d,c;return!(!(this._isXHRUpload(e)&&s&&(r||o<n))||e.data)&&(!!t||(r>=n?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(c=function(){var t=$.extend({},e),u=t._progress.loaded;t.blob=s.call(a,r,r+o,a.type),t.chunkSize=t.blob.size,t.contentRange="bytes "+r+"-"+(r+t.chunkSize-1)+"/"+n,i._initXHRData(t),i._initProgressListener(t),d=(i._trigger("chunksend",null,t)!==!1&&$.ajax(t)||i._getXHRPromise(!1,t.context)).done(function(a,o,s){r=i._getUploadedBytes(s)||r+t.chunkSize,u+t.chunkSize-t._progress.loaded&&i._onProgress($.Event("progress",{lengthComputable:!0,loaded:r-t.uploadedBytes,total:r-t.uploadedBytes}),t),e.uploadedBytes=t.uploadedBytes=r,t.result=a,t.textStatus=o,t.jqXHR=s,i._trigger("chunkdone",null,t),i._trigger("chunkalways",null,t),r<n?c():l.resolveWith(t.context,[a,o,s])}).fail(function(e,a,n){t.jqXHR=e,t.textStatus=a,t.errorThrown=n,i._trigger("chunkfail",null,t),i._trigger("chunkalways",null,t),l.rejectWith(t.context,[e,a,n])})},this._enhancePromise(u),u.abort=function(){return d.abort()},c(),u)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,i,a){var n=a._progress.total,r=a._response;a._progress.loaded<n&&this._onProgress($.Event("progress",{lengthComputable:!0,loaded:n,total:n}),a),r.result=a.result=e,r.textStatus=a.textStatus=t,r.jqXHR=a.jqXHR=i,this._trigger("done",null,a)},_onFail:function(e,t,i,a){var n=a._response;a.recalculateProgress&&(this._progress.loaded-=a._progress.loaded,this._progress.total-=a._progress.total),n.jqXHR=a.jqXHR=e,n.textStatus=a.textStatus=t,n.errorThrown=a.errorThrown=i,this._trigger("fail",null,a)},_onAlways:function(e,t,i,a){this._trigger("always",null,a)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var i=this,a,n,r,o,s=i._getAJAXSettings(t),l=function(){return i._sending+=1,s._bitrateTimer=new i._BitrateTimer,a=a||((n||i._trigger("send",$.Event("send",{delegatedEvent:e}),s)===!1)&&i._getXHRPromise(!1,s.context,n)||i._chunkedUpload(s)||$.ajax(s)).done(function(e,t,a){i._onDone(e,t,a,s)}).fail(function(e,t,a){i._onFail(e,t,a,s)}).always(function(e,t,a){if(i._onAlways(e,t,a,s),i._sending-=1,i._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>i._sending)for(var n=i._slots.shift();n;){if("pending"===i._getDeferredState(n)){n.resolve();break}n=i._slots.shift()}0===i._active&&i._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=$.Deferred(),this._slots.push(r),o=r.then(l)):(this._sequence=this._sequence.then(l,l),o=this._sequence),o.abort=function(){return n=[void 0,"abort","abort"],a?a.abort():(r&&r.rejectWith(s.context,n),l())},this._enhancePromise(o)):l()},_onAdd:function(e,t){var i=this,a=!0,n=$.extend({},this.options,t),r=t.files,o=r.length,s=n.limitMultiFileUploads,l=n.limitMultiFileUploadSize,u=n.limitMultiFileUploadSizeOverhead,d=0,c=this._getParamName(n),h,p,f,g,m=0;if(!o)return!1;if(l&&void 0===r[0].size&&(l=void 0),(n.singleFileUploads||s||l)&&this._isXHRUpload(n))if(n.singleFileUploads||l||!s)if(!n.singleFileUploads&&l)for(f=[],h=[],g=0;g<o;g+=1)d+=r[g].size+u,(g+1===o||d+r[g+1].size+u>l||s&&g+1-m>=s)&&(f.push(r.slice(m,g+1)),p=c.slice(m,g+1),p.length||(p=c),h.push(p),m=g+1,d=0);else h=c;else for(f=[],h=[],g=0;g<o;g+=s)f.push(r.slice(g,g+s)),p=c.slice(g,g+s),p.length||(p=c),h.push(p);else f=[r],h=[c];return t.originalFiles=r,$.each(f||r,function(n,r){var o=$.extend({},t);return o.files=f?r:[r],o.paramName=h[n],i._initResponseObject(o),i._initProgressObject(o),i._addConvenienceMethods(e,o),a=i._trigger("add",$.Event("add",{delegatedEvent:e}),o)}),a},_replaceFileInput:function(e){var t=e.fileInput,i=t.clone(!0),a=t.is(document.activeElement);e.fileInputClone=i,$("<form></form>").append(i)[0].reset(),t.after(i).detach(),a&&i.focus(),$.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,a){return a===t[0]?i[0]:a}),t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,t){var i=this,a=$.Deferred(),n=[],r,o=function(t){t&&!t.entry&&(t.entry=e),a.resolve([t])},s=function(n){i._handleFileTreeEntries(n,t+e.name+"/").done(function(e){a.resolve(e)}).fail(o)},l=function(){r.readEntries(function(e){e.length?(n=n.concat(e),l()):s(n)},o)};return t=t||"",e.isFile?e._file?(e._file.relativePath=t,a.resolve(e._file)):e.file(function(e){e.relativePath=t,a.resolve(e)},o):e.isDirectory?(r=e.createReader(),l()):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,t){var i=this;return $.when.apply($,$.map(e,function(e){return i._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var t=e.items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries($.map(t,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):$.Deferred().resolve($.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=$(e);var t=e.prop("webkitEntries")||e.prop("entries"),i,a;if(t&&t.length)return this._handleFileTreeEntries(t);if(i=$.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&$.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(a=e.prop("value"),!a)return $.Deferred().resolve([]).promise();i=[{name:a.replace(/^.*\\/,"")}]}return $.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof $&&1!==e.length?$.when.apply($,$.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var t=this,i={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(a){i.files=a,t.options.replaceFileInput&&t._replaceFileInput(i),t._trigger("change",$.Event("change",{delegatedEvent:e}),i)!==!1&&t._onAdd(e,i)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};t&&t.length&&($.each(t,function(e,t){var a=t.getAsFile&&t.getAsFile();a&&i.files.push(a)}),this._trigger("paste",$.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,i=e.dataTransfer,a={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){a.files=i,t._trigger("drop",$.Event("drop",{delegatedEvent:e}),a)!==!1&&t._onAdd(e,a)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),$.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var i=$.inArray(e,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(e,t),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof $||(e.fileInput=$(e.fileInput)),e.dropZone instanceof $||(e.dropZone=$(e.dropZone)),e.pasteZone instanceof $||(e.pasteZone=$(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===$.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var e=this,t=this.options,i=this.element.data();$.each(this.element[0].attributes,function(a,n){var r=n.name.toLowerCase(),o;/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=i[r],e._isRegExpOption(r,o)&&(o=e._getRegExp(o)),t[r]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var t=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(i){e.files=i,t._onAdd(null,e)}):(e.files=$.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var t=this,i=$.Deferred(),a=i.promise(),n,r;return a.abort=function(){return r=!0,n?n.abort():(i.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(a){if(!r){if(!a.length)return void i.reject();e.files=a,n=t._onSend(null,e),n.then(function(e,t,a){i.resolve(e,t,a)},function(e,t,a){i.reject(e,t,a)})}}),this._enhancePromise(a)}if(e.files=$.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload")):e(window.jQuery)}(function($){"use strict";var e=$.blueimp.fileupload.prototype.options.add;$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{processQueue:[],add:function(t,i){var a=$(this);i.process(function(){return a.fileupload("process",i)}),e.call(this,t,i)}},processActions:{},_processFile:function(e,t){var i=this,a=$.Deferred().resolveWith(i,[e]),n=a.promise();return this._trigger("process",null,e),$.each(e.processQueue,function(e,a){var r=function(e){return t.errorThrown?$.Deferred().rejectWith(i,[t]).promise():i.processActions[a.action].call(i,e,a)};n=n.then(r,a.always&&r)}),n.done(function(){i._trigger("processdone",null,e),i._trigger("processalways",null,e)}).fail(function(){i._trigger("processfail",null,e),i._trigger("processalways",null,e)}),n},_transformProcessQueue:function(e){var t=[];$.each(e.processQueue,function(){var i={},a=this.action,n=this.prefix===!0?a:this.prefix;$.each(this,function(t,a){"string"===$.type(a)&&"@"===a.charAt(0)?i[t]=e[a.slice(1)||(n?n+t.charAt(0).toUpperCase()+t.slice(1):t)]:i[t]=a}),t.push(i)}),e.processQueue=t},processing:function(){return this._processing},process:function(e){var t=this,i=$.extend({},this.options,e);return i.processQueue&&i.processQueue.length&&(this._transformProcessQueue(i),0===this._processing&&this._trigger("processstart"),$.each(e.files,function(a){var n=a?$.extend({},i):i,r=function(){return e.errorThrown?$.Deferred().rejectWith(t,[e]).promise():t._processFile(n,e)};n.index=a,t._processing+=1,t._processingQueue=t._processingQueue.then(r,r).always(function(){t._processing-=1,0===t._processing&&t._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=$.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(t,i){if(i.disabled)return t;var a=this,n=t.files[t.index],r=$.Deferred();return"number"===$.type(i.maxFileSize)&&n.size>i.maxFileSize||i.fileTypes&&!i.fileTypes.test(n.type)||!e(n,function(e){e.src&&(t.img=e),r.resolveWith(a,[t])},i)?t:r.promise()},resizeImage:function(t,i){if(i.disabled||!t.canvas&&!t.img)return t;i=$.extend({canvas:!0},i);var a=this,n=$.Deferred(),r=i.canvas&&t.canvas||t.img,o=function(e){e&&(e.width!==r.width||e.height!==r.height||i.forceResize)&&(t[e.getContext?"canvas":"img"]=e),t.preview=e,n.resolveWith(a,[t])},s;if(t.exif){if(i.orientation===!0&&(i.orientation=t.exif.get("Orientation")),i.thumbnail&&(s=t.exif.get("Thumbnail")))return e(s,o,i),n.promise();t.orientation?delete i.orientation:t.orientation=i.orientation}return r?(o(e.scale(r,i)),n.promise()):t},saveImage:function(e,t){if(!e.canvas||t.disabled)return e;var i=this,a=e.files[e.index],n=$.Deferred();return e.canvas.toBlob?(e.canvas.toBlob(function(t){t.name||(a.type===t.type?t.name=a.name:a.name&&(t.name=a.name.replace(/\.\w+$/,"."+t.type.substr(6)))),a.type!==t.type&&delete e.imageHead,e.files[e.index]=t,n.resolveWith(i,[e])},t.type||a.type,t.quality),n.promise()):e},loadImageMetaData:function(t,i){if(i.disabled)return t;var a=this,n=$.Deferred();return e.parseMetaData(t.files[t.index],function(e){$.extend(t,e),n.resolveWith(a,[t])},i),n.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var i=e.files[e.index],a=new Blob([e.imageHead,this._blobSlice.call(i,20)],{type:i.type});return a.name=i.name,e.files[e.index]=a,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(t,i){if(i.disabled)return t;var a=t.files[t.index],n,r;return this._audioElement.canPlayType&&this._audioElement.canPlayType(a.type)&&("number"!==$.type(i.maxFileSize)||a.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(a.type))&&(n=e.createObjectURL(a))?(r=this._audioElement.cloneNode(!1),r.src=n,r.controls=!0,t.audio=r,t):t},setAudio:function(e,t){return e.audio&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.audio),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(t,i){if(i.disabled)return t;var a=t.files[t.index],n,r;return this._videoElement.canPlayType&&this._videoElement.canPlayType(a.type)&&("number"!==$.type(i.maxFileSize)||a.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(a.type))&&(n=e.createObjectURL(a))?(r=this._videoElement.cloneNode(!1),r.src=n,r.controls=!0,t.video=r,t):t},setVideo:function(e,t){return e.video&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.video),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload-process")):e(window.jQuery)}(function($){"use strict";$.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{getNumberOfFiles:$.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(e,t){if(t.disabled)return e;var i=$.Deferred(),a=this.options,n=e.files[e.index],r;return(t.minFileSize||t.maxFileSize)&&(r=n.size),"number"===$.type(t.maxNumberOfFiles)&&(a.getNumberOfFiles()||0)+e.files.length>t.maxNumberOfFiles?n.error=a.i18n("maxNumberOfFiles"):!t.acceptFileTypes||t.acceptFileTypes.test(n.type)||t.acceptFileTypes.test(n.name)?r>t.maxFileSize?n.error=a.i18n("maxFileSize"):"number"===$.type(r)&&r<t.minFileSize?n.error=a.i18n("minFileSize"):delete n.error:n.error=a.i18n("acceptFileTypes"),n.error||e.files.error?(e.files.error=!0,i.rejectWith(this,[e])):i.resolveWith(this,[e]),i.promise()}}})}),!function(e,t,i){"use strict";!function e(t,i,a){function n(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return n(i?i:e)},d,d.exports,e,t,i,a)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(a,n,r){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s,l,u,d,c=a("./modules/handle-dom"),h=a("./modules/utils"),p=a("./modules/handle-swal-dom"),f=a("./modules/handle-click"),g=a("./modules/handle-key"),m=o(g),v=a("./modules/default-params"),y=o(v),b=a("./modules/set-params"),w=o(b);r.default=u=d=function(){function a(e){var t=n;return t[e]===i?y.default[e]:t[e]}var n=arguments[0];if(c.addClass(t.body,"stop-scrolling"),p.resetInput(),n===i)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var r=h.extend({},y.default);switch(typeof n){case"string":r.title=n,r.text=arguments[1]||"",r.type=arguments[2]||"";break;case"object":if(n.title===i)return h.logStr('Missing "title" argument!'),!1;r.title=n.title;for(var o in y.default)r[o]=a(o);r.confirmButtonText=r.showCancelButton?"Confirm":y.default.confirmButtonText,r.confirmButtonText=a("confirmButtonText"),r.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof n),!1}w.default(r),p.fixVerticalPosition(),p.openModal(arguments[1]);for(var u=p.getModal(),g=u.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return f.handleButton(e,r,u)},_=0;_<g.length;_++)for(var D=0;D<v.length;D++){var x=v[D];g[_][x]=b}p.getOverlay().onclick=b,s=e.onkeydown;var C=function(e){return m.default(e,r,u)};e.onkeydown=C,e.onfocus=function(){setTimeout(function(){l!==i&&(l.focus(),l=i)},0)},d.enableButtons()},u.setDefaults=d.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(y.default,e)},u.close=d.close=function(){var a=p.getModal();c.fadeOut(p.getOverlay(),5),c.fadeOut(a,5),c.removeClass(a,"showSweetAlert"),c.addClass(a,"hideSweetAlert"),c.removeClass(a,"visible");var n=a.querySelector(".sa-icon.sa-success");c.removeClass(n,"animate"),c.removeClass(n.querySelector(".sa-tip"),"animateSuccessTip"),c.removeClass(n.querySelector(".sa-long"),"animateSuccessLong");var r=a.querySelector(".sa-icon.sa-error");c.removeClass(r,"animateErrorIcon"),c.removeClass(r.querySelector(".sa-x-mark"),"animateXMark");var o=a.querySelector(".sa-icon.sa-warning");return c.removeClass(o,"pulseWarning"),c.removeClass(o.querySelector(".sa-body"),"pulseWarningIns"),c.removeClass(o.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=a.getAttribute("data-custom-class");c.removeClass(a,e)},300),c.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=i,clearTimeout(a.timeout),!0},u.showInputError=d.showInputError=function(e){var t=p.getModal(),i=t.querySelector(".sa-input-error");c.addClass(i,"show");var a=t.querySelector(".sa-error-container");c.addClass(a,"show"),a.querySelector("p").innerHTML=e,setTimeout(function(){u.enableButtons()},1),t.querySelector("input").focus()},u.resetInputError=d.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=p.getModal(),i=t.querySelector(".sa-input-error");c.removeClass(i,"show");var a=t.querySelector(".sa-error-container");c.removeClass(a,"show")},u.disableButtons=d.disableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");t.disabled=!0,i.disabled=!0},u.enableButtons=d.enableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");t.disabled=!1,i.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=u:h.logStr("SweetAlert is a frontend module!"),n.exports=r.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var a={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};i.default=a,t.exports=i.default},{}],3:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0});var n=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),o=function(t,i,a){function o(e){f&&i.confirmButtonColor&&(p.style.backgroundColor=e)}var u,d,c,h=t||e.event,p=h.target||h.srcElement,f=-1!==p.className.indexOf("confirm"),g=-1!==p.className.indexOf("sweet-overlay"),m=r.hasClass(a,"visible"),v=i.doneFunction&&"true"===a.getAttribute("data-has-done-function");switch(f&&i.confirmButtonColor&&(u=i.confirmButtonColor,d=n.colorLuminance(u,-.04),c=n.colorLuminance(u,-.14)),h.type){case"mouseover":o(d);break;case"mouseout":o(u);break;case"mousedown":o(c);break;case"mouseup":o(d);break;case"focus":var y=a.querySelector("button.confirm"),b=a.querySelector("button.cancel");f?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=a===p,_=r.isDescendant(a,p);if(!w&&!_&&m&&!i.allowOutsideClick)break;f&&v&&m?s(a,i):v&&m||g?l(a,i):r.isDescendant(a,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},s=function(e,t){var i=!0;r.hasClass(e,"show-input")&&(i=e.querySelector("input").value,i||(i="")),t.doneFunction(i),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var i=String(t.doneFunction).replace(/\s/g,""),a="function("===i.substring(0,9)&&")"!==i.substring(9,10);a&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};a.default={handleButton:o,handleConfirm:s,handleCancel:l},i.exports=a.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(i,a,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},o=function(e,t){r(e,t)||(e.className+=" "+t)},s=function(e,t){var i=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}},l=function(e){var i=t.createElement("div");return i.appendChild(t.createTextNode(e)),i.innerHTML},u=function(e){e.style.opacity="",e.style.display="block"},d=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},c=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},p=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},f=function(e){e.style.left="-9999px",e.style.display="block";var t,i=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((i+t)/2)+"px"},g=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var i=+new Date,a=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-i)/100,i=+new Date,+e.style.opacity<1&&setTimeout(a,t)});a()}e.style.display="block"},m=function(e,t){t=t||16,e.style.opacity=1;var i=+new Date,a=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-i)/100,i=+new Date,+e.style.opacity>0?setTimeout(a,t):e.style.display="none"});a()},v=function(i){if("function"==typeof MouseEvent){var a=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});i.dispatchEvent(a)}else if(t.createEvent){var n=t.createEvent("MouseEvents");n.initEvent("click",!1,!1),i.dispatchEvent(n)}else t.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};n.hasClass=r,n.addClass=o,n.removeClass=s,n.escapeHtml=l,n._show=u,n.show=d,n._hide=c,n.hide=h,n.isDescendant=p,n.getTopMargin=f,n.fadeIn=g,n.fadeOut=m,n.fireClick=v,n.stopEventPropagation=y},{}],5:[function(t,a,n){Object.defineProperty(n,"__esModule",{
value:!0});var r=t("./handle-dom"),o=t("./handle-swal-dom"),s=function(t,a,n){var s=t||e.event,l=s.keyCode||s.which,u=n.querySelector("button.confirm"),d=n.querySelector("button.cancel"),c=n.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=s.target||s.srcElement,p=-1,f=0;f<c.length;f++)if(h===c[f]){p=f;break}9===l?(h=-1===p?u:p===c.length-1?c[0]:c[p+1],r.stopEventPropagation(s),h.focus(),a.confirmButtonColor&&o.setFocusStyle(h,a.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=u,u.focus()),h=-1===p?u:i):27===l&&a.allowEscapeKey===!0?(h=d,r.fireClick(h,s)):h=i}};n.default=s,a.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(i,a,n){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=i("./utils"),s=i("./handle-dom"),l=i("./default-params"),u=r(l),d=i("./injected-html"),c=r(d),h=".sweet-alert",p=".sweet-overlay",f=function(){var e=t.createElement("div");for(e.innerHTML=c.default;e.firstChild;)t.body.appendChild(e.firstChild)},g=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(h);return e||(f(),e=g()),e}),m=function(){var e=g();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(p)},y=function(e,t){var i=o.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(i){var a=g();s.fadeIn(v(),10),s.show(a),s.addClass(a,"showSweetAlert"),s.removeClass(a,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var n=a.querySelector("button.confirm");n.focus(),setTimeout(function(){s.addClass(a,"visible")},500);var r=a.getAttribute("data-timer");if("null"!==r&&""!==r){var o=i;a.timeout=setTimeout(function(){var e=(o||null)&&"true"===a.getAttribute("data-has-done-function");e?o(null):sweetAlert.close()},r)}},w=function(){var e=g(),t=m();s.removeClass(e,"show-input"),t.value=u.default.inputValue,t.setAttribute("type",u.default.inputType),t.setAttribute("placeholder",u.default.inputPlaceholder),_()},_=function(e){if(e&&13===e.keyCode)return!1;var t=g(),i=t.querySelector(".sa-input-error");s.removeClass(i,"show");var a=t.querySelector(".sa-error-container");s.removeClass(a,"show")},D=function(){var e=g();e.style.marginTop=s.getTopMargin(g())};n.sweetAlertInitialize=f,n.getModal=g,n.getOverlay=v,n.getInput=m,n.setFocusStyle=y,n.openModal=b,n.resetInput=w,n.resetInputError=_,n.fixVerticalPosition=D},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var a='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';i.default=a,t.exports=i.default},{}],8:[function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0});var n=e("./utils"),r=e("./handle-swal-dom"),o=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=r.getModal(),a=t.querySelector("h2"),l=t.querySelector("p"),u=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(a.innerHTML=e.html?e.title:o.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:o.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&o.show(l),e.customClass)o.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var c=t.getAttribute("data-custom-class");o.removeClass(t,c),t.setAttribute("data-custom-class","")}if(o.hide(t.querySelectorAll(".sa-icon")),e.type&&!n.isIE8()){var h=function(){for(var a=!1,n=0;n<s.length;n++)if(e.type===s[n]){a=!0;break}if(!a)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],u=i;-1!==l.indexOf(e.type)&&(u=t.querySelector(".sa-icon.sa-"+e.type),o.show(u));var d=r.getInput();switch(e.type){case"success":o.addClass(u,"animate"),o.addClass(u.querySelector(".sa-tip"),"animateSuccessTip"),o.addClass(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":o.addClass(u,"animateErrorIcon"),o.addClass(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":o.addClass(u,"pulseWarning"),o.addClass(u.querySelector(".sa-body"),"pulseWarningIns"),o.addClass(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":d.setAttribute("type",e.inputType),d.value=e.inputValue,d.setAttribute("placeholder",e.inputPlaceholder),o.addClass(t,"show-input"),setTimeout(function(){d.focus(),d.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",o.show(p);var f=80,g=80;if(e.imageSize){var m=e.imageSize.toString().split("x"),v=m[0],y=m[1];v&&y?(f=v,g=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+f+"px; height:"+g+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":o.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":o.hide(d),e.cancelButtonText&&(u.innerHTML=o.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=o.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor,d.style.borderLeftColor=e.confirmLoadingButtonColor,d.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(d,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};a.default=l,t.exports=a.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0});var n=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},o=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,a,n="#";for(a=0;3>a;a++)i=parseInt(e.substr(2*a,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),n+=("00"+i).substr(i.length);return n};a.extend=n,a.hexToRgb=r,a.isIE8=o,a.logStr=s,a.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function($,e){"use strict";function t(e,t,i,a){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(o){var s=tinycolor(o),l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(t,o)?" sp-thumb-active":"";var u=s.toString(a.preferredFormat||"rgb"),d=g?"background-color:"+s.toRgbString():"filter:"+s.toFilter();n.push('<span title="'+u+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{var c="sp-clear-display";n.push($("<div />").append($('<span data-color="" style="background-color:transparent;" class="'+c+'"></span>').attr("title",a.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+n.join("")+"</div>"}function i(){for(var e=0;e<p.length;e++)p[e]&&p[e].hide()}function a(e,t){var i=$.extend({},h,e);return i.callbacks={move:l(i.move,t),change:l(i.change,t),show:l(i.show,t),hide:l(i.hide,t),beforeShow:l(i.beforeShow,t)},i}function n(n,o){function l(){if(V.showPaletteOnly&&(V.showPalette=!0),qe.text(V.showPaletteOnly?V.togglePaletteMoreText:V.togglePaletteLessText),V.palette){pe=V.palette.slice(0),fe=$.isArray(pe[0])?pe:[pe],ge={};for(var e=0;e<fe.length;e++)for(var t=0;t<fe[e].length;t++){var i=tinycolor(fe[e][t]).toRgbString();ge[i]=!0}}Ce.toggleClass("sp-flat",Y),Ce.toggleClass("sp-input-disabled",!V.showInput),Ce.toggleClass("sp-alpha-enabled",V.showAlpha),Ce.toggleClass("sp-clear-enabled",Je),Ce.toggleClass("sp-buttons-disabled",!V.showButtons),Ce.toggleClass("sp-palette-buttons-disabled",!V.togglePaletteOnly),Ce.toggleClass("sp-palette-disabled",!V.showPalette),Ce.toggleClass("sp-palette-only",V.showPaletteOnly),Ce.toggleClass("sp-initial-disabled",!V.showInitial),Ce.addClass(V.className).addClass(V.containerClassName),q()}function h(){function e(e){return e.data&&e.data.ignore?(P($(e.target).closest(".sp-thumb-el").data("color")),A()):(P($(e.target).closest(".sp-thumb-el").data("color")),A(),N(!0),V.hideAfterPaletteSelect&&E()),!1}if(f&&Ce.find("*:not(input)").attr("unselectable","on"),l(),$e&&De.after(ze).hide(),Je||Re.hide(),Y)De.after(Ce).hide();else{var t="parent"===V.appendTo?De.parent():$(V.appendTo);1!==t.length&&(t=$("body")),t.append(Ce)}y(),We.bind("click.spectrum touchstart.spectrum",function(e){xe||k(),e.stopPropagation(),$(e.target).is("input")||e.preventDefault()}),(De.is(":disabled")||V.disabled===!0)&&W(),Ce.click(s),Oe.change(S),Oe.bind("paste",function(){setTimeout(S,1)}),Oe.keydown(function(e){13==e.keyCode&&S()}),je.text(V.cancelText),je.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),I(),E()}),Re.attr("title",V.clearText),Re.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Qe=!0,A(),Y&&N(!0)}),Ne.text(V.chooseText),Ne.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),f&&Oe.is(":focus")&&Oe.trigger("change"),U()&&(N(!0),E())}),qe.text(V.showPaletteOnly?V.togglePaletteMoreText:V.togglePaletteLessText),qe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),V.showPaletteOnly=!V.showPaletteOnly,V.showPaletteOnly||Y||Ce.css("left","-="+(Se.outerWidth(!0)+5)),l()}),u(Ie,function(e,t,i){he=e/oe,Qe=!1,i.shiftKey&&(he=Math.round(10*he)/10),A()},x,C),u(Me,function(e,t){ue=parseFloat(t/ne),Qe=!1,V.showAlpha||(he=1),A()},x,C),u(ke,function(e,t,i){if(i.shiftKey){if(!be){var a=de*te,n=ie-ce*ie,r=Math.abs(e-a)>Math.abs(t-n);be=r?"x":"y"}}else be=null;var o=!be||"x"===be,s=!be||"y"===be;o&&(de=parseFloat(e/te)),s&&(ce=parseFloat((ie-t)/ie)),Qe=!1,V.showAlpha||(he=1),A()},x,C),Ve?(P(Ve),j(),Ge=V.preferredFormat||tinycolor(Ve).format,b(Ve)):j(),Y&&T();var i=f?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ue.delegate(".sp-thumb-el",i,e),Ae.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}function y(){if(X&&window.localStorage){try{var e=window.localStorage[X].split(",#");e.length>1&&(delete window.localStorage[X],$.each(e,function(e,t){b(t)}))}catch(e){}try{me=window.localStorage[X].split(";")}catch(e){}}}function b(e){if(G){var t=tinycolor(e).toRgbString();if(!ge[t]&&$.inArray(t,me)===-1)for(me.push(t);me.length>ve;)me.shift();if(X&&window.localStorage)try{window.localStorage[X]=me.join(";")}catch(e){}}}function w(){var e=[];if(V.showPalette)for(var t=0;t<me.length;t++){var i=tinycolor(me[t]).toRgbString();ge[i]||e.push(me[t])}return e.reverse().slice(0,V.maxSelectionSize)}function _(){var e=O(),i=$.map(fe,function(i,a){return t(i,e,"sp-palette-row sp-palette-row-"+a,V)});y(),me&&i.push(t(w(),e,"sp-palette-row sp-palette-row-selection",V)),Ue.html(i.join(""))}function D(){if(V.showInitial){var e=Ye,i=O();Ae.html(t([e,i],i,"sp-palette-row-initial",V))}}function x(){(ie<=0||te<=0||ne<=0)&&q(),ee=!0,Ce.addClass(ye),be=null,De.trigger("dragstart.spectrum",[O()])}function C(){ee=!1,Ce.removeClass(ye),De.trigger("dragstop.spectrum",[O()])}function S(){var e=Oe.val();if(null!==e&&""!==e||!Je){var t=tinycolor(e);t.isValid()?(P(t),N(!0)):Oe.addClass("sp-validation-error")}else P(null),N(!0)}function k(){Z?E():T()}function T(){var e=$.Event("beforeShow.spectrum");return Z?void q():(De.trigger(e,[O()]),void(J.beforeShow(O())===!1||e.isDefaultPrevented()||(i(),Z=!0,$(we).bind("keydown.spectrum",M),$(we).bind("click.spectrum",F),$(window).bind("resize.spectrum",K),ze.addClass("sp-active"),Ce.removeClass("sp-hidden"),q(),j(),Ye=O(),D(),J.show(Ye),De.trigger("show.spectrum",[Ye]))))}function M(e){27===e.keyCode&&E()}function F(e){2!=e.button&&(ee||(Xe?N(!0):I(),E()))}function E(){Z&&!Y&&(Z=!1,$(we).unbind("keydown.spectrum",M),$(we).unbind("click.spectrum",F),$(window).unbind("resize.spectrum",K),ze.removeClass("sp-active"),Ce.addClass("sp-hidden"),J.hide(O()),De.trigger("hide.spectrum",[O()]))}function I(){P(Ye,!0)}function P(e,t){if(tinycolor.equals(e,O()))return void j();var i,a;!e&&Je?Qe=!0:(Qe=!1,i=tinycolor(e),a=i.toHsv(),ue=a.h%360/360,de=a.s,ce=a.v,he=a.a),j(),i&&i.isValid()&&!t&&(Ge=V.preferredFormat||i.getFormat())}function O(e){return e=e||{},Je&&Qe?null:tinycolor.fromRatio({h:ue,s:de,v:ce,a:Math.round(100*he)/100},{format:e.format||Ge})}function U(){return!Oe.hasClass("sp-validation-error")}function A(){j(),J.move(O()),De.trigger("move.spectrum",[O()])}function j(){Oe.removeClass("sp-validation-error"),R();var e=tinycolor.fromRatio({h:ue,s:1,v:1});ke.css("background-color",e.toHexString());var t=Ge;he<1&&(0!==he||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var i=O({format:t}),a="";if(Be.removeClass("sp-clear-display"),Be.css("background-color","transparent"),!i&&Je)Be.addClass("sp-clear-display");else{var n=i.toHexString(),r=i.toRgbString();if(g||1===i.alpha?Be.css("background-color",r):(Be.css("background-color","transparent"),Be.css("filter",i.toFilter())),V.showAlpha){var o=i.toRgb();o.a=0;var s=tinycolor(o).toRgbString(),l="linear-gradient(left, "+s+", "+n+")";f?Ee.css("filter",tinycolor(s).toFilter({gradientType:1},n)):(Ee.css("background","-webkit-"+l),Ee.css("background","-moz-"+l),Ee.css("background","-ms-"+l),Ee.css("background","linear-gradient(to right, "+s+", "+n+")"))}a=i.toString(t)}V.showInput&&Oe.val(a),V.showPalette&&_(),D()}function R(){var e=de,t=ce;if(Je&&Qe)Pe.hide(),Fe.hide(),Te.hide();else{Pe.show(),Fe.show(),Te.show();var i=e*te,a=ie-t*ie;i=Math.max(-ae,Math.min(te-ae,i-ae)),a=Math.max(-ae,Math.min(ie-ae,a-ae)),Te.css({top:a+"px",left:i+"px"});var n=he*oe;Pe.css({left:n-se/2+"px"});var r=ue*ne;Fe.css({top:r-le+"px"})}}function N(e){var t=O(),i="",a=!tinycolor.equals(t,Ye);t&&(i=t.toString(Ge),b(t)),He&&De.val(i),e&&a&&(J.change(t),De.trigger("change",[t]))}function q(){Z&&(te=ke.width(),ie=ke.height(),ae=Te.height(),re=Me.width(),ne=Me.height(),le=Fe.height(),oe=Ie.width(),se=Pe.width(),Y||(Ce.css("position","absolute"),V.offset?Ce.offset(V.offset):Ce.offset(r(Ce,We))),R(),V.showPalette&&_(),De.trigger("reflow.spectrum"))}function H(){De.show(),We.unbind("click.spectrum touchstart.spectrum"),Ce.remove(),ze.remove(),p[Ke.id]=null}function L(t,i){return t===e?$.extend({},V):i===e?V[t]:(V[t]=i,"preferredFormat"===t&&(Ge=V.preferredFormat),void l())}function z(){xe=!1,De.attr("disabled",!1),We.removeClass("sp-disabled")}function W(){E(),xe=!0,De.attr("disabled",!0),We.addClass("sp-disabled")}function B(e){V.offset=e,q()}var V=a(o,n),Y=V.flat,G=V.showSelectionPalette,X=V.localStorageKey,Q=V.theme,J=V.callbacks,K=d(q,10),Z=!1,ee=!1,te=0,ie=0,ae=0,ne=0,re=0,oe=0,se=0,le=0,ue=0,de=0,ce=0,he=1,pe=[],fe=[],ge={},me=V.selectionPalette.slice(0),ve=V.maxSelectionSize,ye="sp-dragging",be=null,we=n.ownerDocument,_e=we.body,De=$(n),xe=!1,Ce=$(v,we).addClass(Q),Se=Ce.find(".sp-picker-container"),ke=Ce.find(".sp-color"),Te=Ce.find(".sp-dragger"),Me=Ce.find(".sp-hue"),Fe=Ce.find(".sp-slider"),Ee=Ce.find(".sp-alpha-inner"),Ie=Ce.find(".sp-alpha"),Pe=Ce.find(".sp-alpha-handle"),Oe=Ce.find(".sp-input"),Ue=Ce.find(".sp-palette"),Ae=Ce.find(".sp-initial"),je=Ce.find(".sp-cancel"),Re=Ce.find(".sp-clear"),Ne=Ce.find(".sp-choose"),qe=Ce.find(".sp-palette-toggle"),He=De.is("input"),Le=He&&"color"===De.attr("type")&&c(),$e=He&&!Y,ze=$e?$(m).addClass(Q).addClass(V.className).addClass(V.replacerClassName):$([]),We=$e?ze:De,Be=ze.find(".sp-preview-inner"),Ve=V.color||He&&De.val(),Ye=!1,Ge=V.preferredFormat,Xe=!V.showButtons||V.clickoutFiresChange,Qe=!Ve,Je=V.allowEmpty&&!Le;h();var Ke={show:T,hide:E,toggle:k,reflow:q,option:L,enable:z,disable:W,offset:B,set:function(e){P(e),N()},get:O,destroy:H,container:Ce};return Ke.id=p.push(Ke)-1,Ke}function r(e,t){var i=0,a=e.outerWidth(),n=e.outerHeight(),r=t.outerHeight(),o=e[0].ownerDocument,s=o.documentElement,l=s.clientWidth+$(o).scrollLeft(),u=s.clientHeight+$(o).scrollTop(),d=t.offset();return d.top+=r,d.left-=Math.min(d.left,d.left+a>l&&l>a?Math.abs(d.left+a-l):0),d.top-=Math.min(d.top,d.top+n>u&&u>n?Math.abs(n+r-i):i),d}function o(){}function s(e){e.stopPropagation()}function l(e,t){var i=Array.prototype.slice,a=i.call(arguments,2);return function(){return e.apply(t,a.concat(i.call(arguments)))}}function u(e,t,i,a){function n(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function r(i){if(u){if(f&&l.documentMode<9&&!i.button)return s();var a=i.originalEvent&&i.originalEvent.touches&&i.originalEvent.touches[0],r=a&&a.pageX||i.pageX,o=a&&a.pageY||i.pageY,g=Math.max(0,Math.min(r-d.left,h)),m=Math.max(0,Math.min(o-d.top,c));p&&n(i),t.apply(e,[g,m,i])}}function o(t){var a=t.which?3==t.which:2==t.button;a||u||i.apply(e,arguments)!==!1&&(u=!0,c=$(e).height(),h=$(e).width(),d=$(e).offset(),$(l).bind(g),$(l.body).addClass("sp-dragging"),r(t),n(t))}function s(){u&&($(l).unbind(g),$(l.body).removeClass("sp-dragging"),setTimeout(function(){a.apply(e,arguments)},0)),u=!1}t=t||function(){},i=i||function(){},a=a||function(){};var l=document,u=!1,d={},c=0,h=0,p="ontouchstart"in window,g={};g.selectstart=n,g.dragstart=n,g["touchmove mousemove"]=r,g["touchend mouseup"]=s,$(e).bind("touchstart mousedown",o)}function d(e,t,i){var a;return function(){var n=this,r=arguments,o=function(){a=null,e.apply(n,r)};i&&clearTimeout(a),!i&&a||(a=setTimeout(o,t))}}function c(){return $.fn.spectrum.inputTypeColorSupport()}var h={beforeShow:o,move:o,change:o,show:o,hide:o,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],f=!!/msie/i.exec(window.navigator.userAgent),g=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),i=t.style;return i.cssText="background-color:rgba(0,0,0,.5)",e(i.backgroundColor,"rgba")||e(i.backgroundColor,"hsla")}(),m=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),v=function(){var e="";if(f)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";$.fn.spectrum=function(e,t){if("string"==typeof e){var i=this,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=p[$(this).data(y)];if(t){var n=t[e];if(!n)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?i=t.get():"container"==e?i=t.container:"option"==e?i=t.option.apply(t,a):"destroy"==e?(t.destroy(),$(this).removeData(y)):n.apply(t,a)}}),i}return this.spectrum("destroy").each(function(){var t=$.extend({},e,$(this).data()),i=n(this,t);$(this).data(y,i.id)})},$.fn.spectrum.load=!0,$.fn.spectrum.loadOpts={},$.fn.spectrum.draggable=u,$.fn.spectrum.defaults=h,$.fn.spectrum.inputTypeColorSupport=function e(){if("undefined"==typeof e._cachedResult){var t=$("<input type='color'/>")[0];e._cachedResult="color"===t.type&&""!==t.value}return e._cachedResult},$.spectrum={},$.spectrum.localization={},$.spectrum.palettes={},$.fn.spectrum.processNativeColorInputs=function(){var e=$("input[type=color]");e.length&&!c()&&e.spectrum({preferredFormat:"hex6"})},function(){function e(e){var i={r:0,g:0,b:0},n=1,o=!1,s=!1;return"string"==typeof e&&(e=P(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(i=t(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=F(e.s),e.v=F(e.v),i=r(e.h,e.s,e.v),o=!0,s="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=F(e.s),e.l=F(e.l),i=a(e.h,e.s,e.l),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=D(n),{ok:o,format:e.format||s,r:N(255,q(i.r,0)),g:N(255,q(i.g,0)),b:N(255,q(i.b,0)),a:n}}function t(e,t,i){return{r:255*x(e,255),g:255*x(t,255),b:255*x(i,255)}}function i(e,t,i){e=x(e,255),t=x(t,255),i=x(i,255);var a=q(e,t,i),n=N(e,t,i),r,o,s=(a+n)/2;if(a==n)r=o=0;else{var l=a-n;switch(o=s>.5?l/(2-a-n):l/(a+n),a){case e:r=(t-i)/l+(t<i?6:0);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function a(e,t,i){function a(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var n,r,o;if(e=x(e,360),t=x(t,100),i=x(i,100),0===t)n=r=o=i;else{var s=i<.5?i*(1+t):i+t-i*t,l=2*i-s;n=a(l,s,e+1/3),r=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*n,g:255*r,b:255*o}}function n(e,t,i){e=x(e,255),t=x(t,255),i=x(i,255);var a=q(e,t,i),n=N(e,t,i),r,o,s=a,l=a-n;if(o=0===a?0:l/a,a==n)r=0;else{switch(a){case e:r=(t-i)/l+(t<i?6:0);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function r(e,t,i){e=6*x(e,360),t=x(t,100),i=x(i,100);var a=j.floor(e),n=e-a,r=i*(1-t),o=i*(1-n*t),s=i*(1-(1-n)*t),l=a%6,u=[i,o,r,r,s,i][l],d=[s,i,i,o,r,r][l],c=[r,r,s,i,i,o][l];return{r:255*u,g:255*d,b:255*c}}function o(e,t,i,a){var n=[M(R(e).toString(16)),M(R(t).toString(16)),M(R(i).toString(16))];return a&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function s(e,t,i,a){var n=[M(E(a)),M(R(e).toString(16)),M(R(t).toString(16)),M(R(i).toString(16))];return n.join("")}function l(e,t){t=0===t?0:t||10;var i=L(e).toHsl();return i.s-=t/100,i.s=C(i.s),L(i)}function u(e,t){t=0===t?0:t||10;var i=L(e).toHsl();return i.s+=t/100,i.s=C(i.s),L(i)}function d(e){return L(e).desaturate(100)}function c(e,t){t=0===t?0:t||10;var i=L(e).toHsl();return i.l+=t/100,i.l=C(i.l),L(i)}function h(e,t){t=0===t?0:t||10;var i=L(e).toRgb();return i.r=q(0,N(255,i.r-R(255*-(t/100)))),i.g=q(0,N(255,i.g-R(255*-(t/100)))),i.b=q(0,N(255,i.b-R(255*-(t/100)))),L(i)}function p(e,t){t=0===t?0:t||10;var i=L(e).toHsl();return i.l-=t/100,i.l=C(i.l),L(i)}function f(e,t){var i=L(e).toHsl(),a=(R(i.h)+t)%360;return i.h=a<0?360+a:a,L(i)}function g(e){var t=L(e).toHsl();return t.h=(t.h+180)%360,L(t)}function m(e){var t=L(e).toHsl(),i=t.h;return[L(e),L({h:(i+120)%360,s:t.s,l:t.l}),L({h:(i+240)%360,s:t.s,l:t.l})]}function v(e){var t=L(e).toHsl(),i=t.h;return[L(e),L({h:(i+90)%360,s:t.s,l:t.l}),L({h:(i+180)%360,s:t.s,l:t.l}),L({h:(i+270)%360,s:t.s,l:t.l})]}function y(e){var t=L(e).toHsl(),i=t.h;return[L(e),L({h:(i+72)%360,s:t.s,l:t.l}),L({h:(i+216)%360,s:t.s,l:t.l})]}function b(e,t,i){t=t||6,i=i||30;var a=L(e).toHsl(),n=360/i,r=[L(e)];for(a.h=(a.h-(n*t>>1)+720)%360;--t;)a.h=(a.h+n)%360,r.push(L(a));return r}function w(e,t){t=t||6;for(var i=L(e).toHsv(),a=i.h,n=i.s,r=i.v,o=[],s=1/t;t--;)o.push(L({h:a,s:n,v:r})),r=(r+s)%1;return o}function _(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function x(e,t){k(e)&&(e="100%");var i=T(e);return e=N(t,q(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),j.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return N(1,q(0,e))}function S(e){return parseInt(e,16)}function k(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function T(e){return"string"==typeof e&&e.indexOf("%")!=-1}function M(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function E(e){return Math.round(255*parseFloat(e)).toString(16)}function I(e){return S(e)/255}function P(e){e=e.replace(O,"").replace(U,"").toLowerCase();var t=!1;if(z[e])e=z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=B.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=B.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=B.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=B.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=B.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=B.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=B.hex8.exec(e))?{a:I(i[1]),r:S(i[2]),g:S(i[3]),b:S(i[4]),format:t?"name":"hex8"}:(i=B.hex6.exec(e))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:t?"name":"hex"}:!!(i=B.hex3.exec(e))&&{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:t?"name":"hex"}}var O=/^[\s,#]+/,U=/\s+$/,A=0,j=Math,R=j.round,N=j.min,q=j.max,H=j.random,L=function(t,i){if(t=t?t:"",i=i||{},t instanceof L)return t;if(!(this instanceof L))return new L(t,i);var a=e(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=R(100*this._a)/100,this._format=i.format||a.format,this._gradientType=i.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=a.ok,this._tc_id=A++};L.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=D(e),this._roundA=R(100*this._a)/100,this},toHsv:function(){var e=n(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=n(this._r,this._g,this._b),t=R(360*e.h),i=R(100*e.s),a=R(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+a+"%)":"hsva("+t+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=R(360*e.h),a=R(100*e.s),n=R(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+n+"%)":"hsla("+t+", "+a+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return o(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(100*x(this._r,255))+"%",g:R(100*x(this._g,255))+"%",b:R(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+R(100*x(this._r,255))+"%, "+R(100*x(this._g,255))+"%, "+R(100*x(this._b,255))+"%)":"rgba("+R(100*x(this._r,255))+"%, "+R(100*x(this._g,255))+"%, "+R(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),i=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var n=L(e);i=n.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,a=this._a<1&&this._a>=0,n=!t&&a&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return n?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(c,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},L.fromRatio=function(e,t){if("object"==typeof e){var i={};for(var a in e)e.hasOwnProperty(a)&&("a"===a?i[a]=e[a]:i[a]=F(e[a]));e=i}return L(e,t)},L.equals=function(e,t){return!(!e||!t)&&L(e).toRgbString()==L(t).toRgbString()},L.random=function(){return L.fromRatio({r:H(),g:H(),b:H()})},L.mix=function(e,t,i){
i=0===i?0:i||50;var a=L(e).toRgb(),n=L(t).toRgb(),r=i/100,o=2*r-1,s=n.a-a.a,l;l=o*s==-1?o:(o+s)/(1+o*s),l=(l+1)/2;var u=1-l,d={r:n.r*l+a.r*u,g:n.g*l+a.g*u,b:n.b*l+a.b*u,a:n.a*r+a.a*(1-r)};return L(d)},L.readability=function(e,t){var i=L(e),a=L(t),n=i.toRgb(),r=a.toRgb(),o=i.getBrightness(),s=a.getBrightness(),l=Math.max(n.r,r.r)-Math.min(n.r,r.r)+Math.max(n.g,r.g)-Math.min(n.g,r.g)+Math.max(n.b,r.b)-Math.min(n.b,r.b);return{brightness:Math.abs(o-s),color:l}},L.isReadable=function(e,t){var i=L.readability(e,t);return i.brightness>125&&i.color>500},L.mostReadable=function(e,t){for(var i=null,a=0,n=!1,r=0;r<t.length;r++){var o=L.readability(e,t[r]),s=o.brightness>125&&o.color>500,l=3*(o.brightness/125)+o.color/500;(s&&!n||s&&n&&l>a||!s&&!n&&l>a)&&(n=s,a=l,i=L(t[r]))}return i};var z=L.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=L.hexNames=_(z),B=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",i="(?:"+t+")|(?:"+e+")",a="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=L}(),$(function(){$.fn.spectrum.load&&$.fn.spectrum.processNativeColorInputs()})}),function($){var e=$.spectrum.localization.es={cancelText:"Cancelar",chooseText:"Elegir",clearText:"Borrar color seleccionado",noColorSelectedText:"Ningn color seleccionado",togglePaletteMoreText:"Ms",togglePaletteLessText:"Menos"};$.extend($.fn.spectrum.defaults,e)}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function($,e){function t(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return t(e.getFullYear(),e.getMonth(),e.getDate())}function a(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function n(e){return function(){return this[e].apply(this,arguments)}}function r(e){return e&&!isNaN(e.getTime())}function o(e,t){function i(e,t){return t.toLowerCase()}var a=$(e).data(),n={},r,o=new RegExp("^"+t.toLowerCase()+"([A-Z])");t=new RegExp("^"+t.toLowerCase());for(var s in a)t.test(s)&&(r=s.replace(o,i),n[r]=a[s]);return n}function s(e){var t={};if(g[e]||(e=e.split("-")[0],g[e])){var i=g[e];return $.each(f,function(e,a){a in i&&(t[a]=i[a])}),t}}var l=function(){var e={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,a=this.length;i<a;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&($.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var t=[];return t.push.apply(t,arguments),$.extend(t,e),t}}(),u=function(e,t){$(e).data("datepicker",this),this._process_options(t),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=$(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=$(m.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};u.prototype={constructor:u,_resolveViewName:function(t,i){return 0===t||"days"===t||"month"===t?0:1===t||"months"===t||"year"===t?1:2===t||"years"===t||"decade"===t?2:3===t||"decades"===t||"century"===t?3:4===t||"centuries"===t||"millennium"===t?4:i!==e&&i},_check_template:function(t){try{if(t===e||""===t)return!1;if((t.match(/[<>]/g)||[]).length<=0)return!0;var i=$(t);return i.length>0}catch(e){return!1}},_process_options:function(e){this._o=$.extend({},this._o,e);var a=this.o=$.extend({},this._o),n=a.language;g[n]||(n=n.split("-")[0],g[n]||(n=p.language)),a.language=n,a.startView=this._resolveViewName(a.startView,0),a.minViewMode=this._resolveViewName(a.minViewMode,0),a.maxViewMode=this._resolveViewName(a.maxViewMode,4),a.startView=Math.min(a.startView,a.maxViewMode),a.startView=Math.max(a.startView,a.minViewMode),a.multidate!==!0&&(a.multidate=Number(a.multidate)||!1,a.multidate!==!1&&(a.multidate=Math.max(0,a.multidate))),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var r=m.parseFormat(a.format);a.startDate!==-(1/0)&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=m.parseDate(a.startDate,r,a.language,a.assumeNearbyYear):a.startDate=-(1/0)),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=m.parseDate(a.endDate,r,a.language,a.assumeNearbyYear):a.endDate=1/0),a.daysOfWeekDisabled=a.daysOfWeekDisabled||[],$.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)),a.daysOfWeekDisabled=$.map(a.daysOfWeekDisabled,function(e){return parseInt(e,10)}),a.daysOfWeekHighlighted=a.daysOfWeekHighlighted||[],$.isArray(a.daysOfWeekHighlighted)||(a.daysOfWeekHighlighted=a.daysOfWeekHighlighted.split(/[,\s]*/)),a.daysOfWeekHighlighted=$.map(a.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),a.datesDisabled=a.datesDisabled||[],$.isArray(a.datesDisabled)||(a.datesDisabled=[a.datesDisabled]),a.datesDisabled=$.map(a.datesDisabled,function(e){return m.parseDate(e,r,a.language,a.assumeNearbyYear)});var o=String(a.orientation).toLowerCase().split(/\s+/g),s=a.orientation.toLowerCase();if(o=$.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)}),a.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===o.length)switch(o[0]){case"top":case"bottom":a.orientation.y=o[0];break;case"left":case"right":a.orientation.x=o[0]}else s=$.grep(o,function(e){return/^left|right$/.test(e)}),a.orientation.x=s[0]||"auto",s=$.grep(o,function(e){return/^top|bottom$/.test(e)}),a.orientation.y=s[0]||"auto";else;if(a.defaultViewDate){var l=a.defaultViewDate.year||(new Date).getFullYear(),u=a.defaultViewDate.month||0,d=a.defaultViewDate.day||1;a.defaultViewDate=t(l,u,d)}else a.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i=0,a,n,r;i<t.length;i++)a=t[i][0],2===t[i].length?(n=e,r=t[i][1]):3===t[i].length&&(n=t[i][1],r=t[i][2]),a.on(r,n)},_unapplyEvents:function(t){for(var i=0,a,n,r;i<t.length;i++)a=t[i][0],2===t[i].length?(r=e,n=t[i][1]):3===t[i].length&&(r=t[i][1],n=t[i][2]),a.off(n,r)},_buildEvents:function(){var e={keyup:$.proxy(function(e){$.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:$.proxy(this.keydown,this),paste:$.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=$.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.inputField,e],[this.component,{click:$.proxy(this.show,this)}]]:this._events=[[this.element,{click:$.proxy(this.show,this),keydown:$.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":$.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{mousedown:$.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var i=t||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:e,date:a,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return m.formatDate(i,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&$(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var t;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&$.inArray("text/plain",e.originalEvent.clipboardData.types)!==-1)t=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),e.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=$.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=$.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,$.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),remove:n("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(t){t===e&&(t=this.o.format);var i=this.o.language;return $.map(this.dates,function(e){return m.formatDate(e,t,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),t=this.picker.outerHeight(),i=10,a=$(this.o.container),n=a.width(),r="body"===this.o.container?$(document).scrollTop():a.scrollTop(),o=a.offset(),s=[];this.element.parents().each(function(){var e=$(this).css("z-index");"auto"!==e&&0!==e&&s.push(parseInt(e))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=u.left-o.left,p=u.top-o.top;"body"!==this.o.container&&(p+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-c)):u.left<0?(this.picker.addClass("datepicker-orient-left"),h-=u.left-i):h+e>n?(this.picker.addClass("datepicker-orient-right"),h+=c-e):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y,g;if("auto"===f&&(g=-r+p-t,f=g<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=t+parseInt(this.picker.css("padding-top")):p+=d,this.o.rtl){var m=n-(h+c);this.picker.css({top:p,right:m,zIndex:l})}else this.picker.css({top:p,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),t=[],i=!1;return arguments.length?($.each(arguments,$.proxy(function(e,i){i instanceof Date&&(i=this._local_to_utc(i)),t.push(i)},this)),i=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=$.map(t,$.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=$.grep(t,$.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(t),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,i?this.setValue():t.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow',$.inArray(e,this.o.daysOfWeekDisabled)>-1&&(t+=" disabled"),t+='">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;i<12;){var a=e&&e.getMonth()===i?" focused":"";t+='<span class="month'+a+'">'+g[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=$.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),n=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<a?t.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>a)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===n.getFullYear()&&e.getUTCMonth()===n.getMonth()&&e.getUTCDate()===n.getDate()&&t.push("today"),this.dates.contains(e)!==-1&&t.push("active"),this.dateWithinRange(e)||t.push("disabled"),this.dateIsDisabled(e)&&t.push("disabled","disabled-date"),$.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&t.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),$.inArray(e.valueOf(),this.range)!==-1&&t.push("selected"),e.valueOf()===this.range[0]&&t.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(t,i,a,n,r,o,s,l){var u,d,c,h,p,f,g,m,v,y,b;for(u="",d=this.picker.find(t),c=parseInt(r/a,10)*a,p=parseInt(o/n,10)*n,f=parseInt(s/n,10)*n,h=$.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/n,10)*n}),d.find(".datepicker-switch").text(c+"-"+(c+9*n)),g=c-n,m=-1;m<11;m+=1)v=[i],y=null,m===-1?v.push("old"):10===m&&v.push("new"),$.inArray(g,h)!==-1&&v.push("active"),(g<p||g>f)&&v.push("disabled"),g===this.viewDate.getFullYear()&&v.push("focused"),l!==$.noop&&(b=l(new Date(g,0,1)),b===e?b={}:"boolean"==typeof b?b={enabled:b}:"string"==typeof b&&(b={classes:b}),b.enabled===!1&&v.push("disabled"),b.classes&&(v=v.concat(b.classes.split(/\s+/))),b.tooltip&&(y=b.tooltip)),u+='<span class="'+v.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+g+"</span>",g+=n;d.find("td").html(u)},fill:function(){var i=new Date(this.viewDate),a=i.getUTCFullYear(),n=i.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",d=g[this.o.language].clear||g.en.clear||"",c=g[this.o.language].titleFormat||g.en.titleFormat,h,p;if(!isNaN(a)&&!isNaN(n)){this.picker.find(".datepicker-days .datepicker-switch").text(m.formatDate(i,c,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(d).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=t(a,n-1,28),v=m.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(v),f.setUTCDate(v-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var b=[],w;f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),D=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),x=new Date(Number(x=t(D.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),C=(D-x)/864e5/7+1;b.push('<td class="cw">'+C+"</td>")}w=this.getClassNames(f),w.push("day"),this.o.beforeShowDay!==$.noop&&(p=this.o.beforeShowDay(this._utc_to_local(f)),p===e?p={}:"boolean"==typeof p?p={enabled:p}:"string"==typeof p&&(p={classes:p}),p.enabled===!1&&w.push("disabled"),p.classes&&(w=w.concat(p.classes.split(/\s+/))),p.tooltip&&(h=p.tooltip)),w=$.isFunction($.uniqueSort)?$.uniqueSort(w):$.unique(w),b.push('<td class="'+w.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+f.getUTCDate()+"</td>"),h=null,f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var S=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",k=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?S:a).end().find("span").removeClass("active");if($.each(this.dates,function(e,t){t.getUTCFullYear()===a&&k.eq(t.getUTCMonth()).addClass("active")}),(a<r||a>s)&&k.addClass("disabled"),a===r&&k.slice(0,o).addClass("disabled"),a===s&&k.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==$.noop){var T=this;$.each(k,function(t,i){var n=new Date(a,t,1),r=T.o.beforeShowMonth(n);r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),r.enabled!==!1||$(i).hasClass("disabled")||$(i).addClass("disabled"),r.classes&&$(i).addClass(r.classes),r.tooltip&&$(i).prop("title",r.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,a,r,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,a,r,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,a,r,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var a,n,r,o,s,l,u;a=$(e.target),a.hasClass("datepicker-switch")&&this.showMode(1);var d=a.closest(".prev, .next");d.length>0&&(n=m.modes[this.viewMode].navStep*(d.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,n),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),a.hasClass("today")&&!a.hasClass("day")&&(this.showMode(-2),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),a.hasClass("clear")&&this.clearDates(),a.hasClass("disabled")||(a.hasClass("day")&&(r=parseInt(a.text(),10)||1,o=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a.hasClass("old")&&(0===s?(s=11,o-=1,l=!0,u=!0):(s-=1,l=!0)),a.hasClass("new")&&(11===s?(s=0,o+=1,l=!0,u=!0):(s+=1,l=!0)),this._setDate(t(o,s,r)),u&&this._trigger("changeYear",this.viewDate),l&&this._trigger("changeMonth",this.viewDate)),a.hasClass("month")&&(this.viewDate.setUTCDate(1),r=1,s=a.parent().find("span").index(a),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(t(o,s,r)),this.showMode()):this.showMode(-1),this.fill()),(a.hasClass("year")||a.hasClass("decade")||a.hasClass("century"))&&(this.viewDate.setUTCDate(1),r=1,s=0,o=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(o),a.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(t(o,s,r))),a.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(t(o,s,r))),a.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(t(o,s,r))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&$(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!r(e))return this.o.defaultViewDate;if(!t)return e;var i=new Date(e.valueOf()),a=i.getUTCDate(),n=i.getUTCMonth(),o=Math.abs(t),s,l;if(t=t>0?1:-1,1===o)l=t===-1?function(){return i.getUTCMonth()===n}:function(){return i.getUTCMonth()!==s},s=n+t,i.setUTCMonth(s),(s<0||s>11)&&(s=(s+12)%12);else{for(var u=0;u<o;u++)i=this.moveMonth(i,t);s=i.getUTCMonth(),i.setUTCDate(a),l=function(){return s!==i.getUTCMonth()}}for(;l();)i.setUTCDate(--a),i.setUTCMonth(s);return i},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return $.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||$.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation()));var t=!1,i,a,n=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;i=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(a=this.moveAvailableDate(n,i,"moveYear"),a&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(a=this.moveAvailableDate(n,i,"moveMonth"),a&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?a=this.moveAvailableDate(n,i,"moveDay"):this.weekOfDateIsDisabled(n)||(a=this.moveAvailableDate(n,i,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(i*=4),a=this.moveAvailableDate(n,i,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(i*=4),a=this.moveAvailableDate(n,i,"moveYear")),a&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;n=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(n),t=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}t&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var d=function(e,t){$(e).data("datepicker",this),this.element=$(e),this.inputs=$.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,h.call($(this.inputs),t).on("changeDate",$.proxy(this.dateUpdated,this)),this.pickers=$.map(this.inputs,function(e){return $(e).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=$.map(this.dates,function(e){return e.valueOf()});$.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var t=$(e.target).data("datepicker");if("undefined"!=typeof t){var i=t.getUTCDate(),a=$.inArray(e.target,this.inputs),n=a-1,r=a+1,o=this.inputs.length;if(a!==-1){if($.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[n])for(;n>=0&&i<this.dates[n];)this.pickers[n--].setUTCDate(i);else if(i>this.dates[r])for(;r<o&&i>this.dates[r];)this.pickers[r++].setUTCDate(i);this.updateDates(),delete this.updating}}}},remove:function(){$.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var c=$.fn.datepicker,h=function(t){var i=Array.apply(null,arguments);i.shift();var a;if(this.each(function(){var e=$(this),n=e.data("datepicker"),r="object"==typeof t&&t;if(!n){var l=o(this,"date"),c=$.extend({},p,l,r),h=s(c.language),f=$.extend({},p,h,l,r);
e.hasClass("input-daterange")||f.inputs?($.extend(f,{inputs:f.inputs||e.find("input").toArray()}),n=new d(this,f)):n=new u(this,f),e.data("datepicker",n)}"string"==typeof t&&"function"==typeof n[t]&&(a=n[t].apply(n,i))}),a===e||a instanceof u||a instanceof d)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+t+" function)");return a};$.fn.datepicker=h;var p=$.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:$.noop,beforeShowMonth:$.noop,beforeShowYear:$.noop,beforeShowDecade:$.noop,beforeShowCentury:$.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},f=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=u;var g=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(a,n,r,o){function s(e,t){return t===!0&&(t=10),e<100&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function l(){var e=this.slice(0,c[y].length),t=c[y].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!a)return e;if(a instanceof Date)return a;if("string"==typeof n&&(n=m.parseFormat(n)),n.toValue)return n.toValue(a,n,r);var d=/([\-+]\d+)([dmwy])/,c=a.match(/([\-+]\d+)([dmwy])/g),h={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},p={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},f,v,y,b;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){for(a=new Date,y=0;y<c.length;y++)f=d.exec(c[y]),v=parseInt(f[1]),b=h[f[2]],a=u.prototype[b](a,v);return t(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}if("undefined"!=typeof p[a]&&(a=p[a],c=a.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a))){for(a=new Date,y=0;y<c.length;y++)f=d.exec(c[y]),v=parseInt(f[1]),b=h[f[2]],a=u.prototype[b](a,v);return t(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}c=a&&a.match(this.nonpunctuation)||[],a=new Date;var w={},_=["yyyy","yy","M","MM","m","mm","d","dd"],D={yyyy:function(e,t){return e.setUTCFullYear(o?s(t,o):t)},yy:function(e,t){return e.setUTCFullYear(o?s(t,o):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},x,C;D.M=D.MM=D.mm=D.m,D.dd=D.d,a=i();var S=n.parts.slice();if(c.length!==S.length&&(S=$(S).filter(function(e,t){return $.inArray(t,_)!==-1}).toArray()),c.length===S.length){var k;for(y=0,k=S.length;y<k;y++){if(x=parseInt(c[y],10),f=S[y],isNaN(x))switch(f){case"MM":C=$(g[r].months).filter(l),x=$.inArray(C[0],g[r].months)+1;break;case"M":C=$(g[r].monthsShort).filter(l),x=$.inArray(C[0],g[r].monthsShort)+1}w[f]=x}var T,M;for(y=0;y<_.length;y++)M=_[y],M in w&&!isNaN(w[M])&&(T=new Date(a),D[M](T,w[M]),isNaN(T)||(a=T))}return a},formatDate:function(e,t,i){if(!e)return"";if("string"==typeof t&&(t=m.parseFormat(t)),t.toDisplay)return t.toDisplay(e,t,i);var a={d:e.getUTCDate(),D:g[i].daysShort[e.getUTCDay()],DD:g[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[i].monthsShort[e.getUTCMonth()],MM:g[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var n=$.extend([],t.separators),r=0,o=t.parts.length;r<=o;r++)n.length&&e.push(n.shift()),e.push(a[t.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",$.fn.datepicker.DPGlobal=m,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=c,this},$.fn.datepicker.version="1.6.4",$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=$(this);t.data("datepicker")||(e.preventDefault(),h.call(t,"show"))}),$(function(){h.call($('[data-provide="datepicker-inline"]'))})});var Panel=function(){function e(){}function t(){$(window).resize(function(){$(window).width()>992&&$("body.beebmx-panel").removeClass("pushy-open-left")})}function i(){$(".menu-btn").on("click",function(e){e.preventDefault()}),$(".menu-bar").on("click",function(e){e.preventDefault()})}function a(){$(document).keydown(function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return $("form.panel-form").submit(),e.preventDefault(),!1})}return{index:function(){e()},init:function(){a(),t(),i()}}}(),File=function(){var e=[],t=[],i=0,a,n,r,o=0,s=0,l={add:new CustomEvent("fileAdd",{detail:{add:!0}}),del:new CustomEvent("fileDel",{detail:{del:!0}})},u=function(i){$("#beebmx-panel-fileupload").fileupload({autoUpload:!1,paramName:"file",multipart:!0,maxFileSize:1024*i.size*1024,previewMaxWidth:40,previewMaxHeight:40,previewCrop:!1}).on("fileuploadprocessalways",function(t,i){var a=i.files[0],n,o,s=h(a.name);"undefined"==typeof a.error?(r=m(a.type,a),s!==!1?(n=$("#beebmx-panel-files tbody tr").eq(s-1),$(n).children("td").eq(2).html(p(a.size)),$(n).data("remote")?($(n).data("file",i),$(n).data("remote",!1),e.push(i)):(o=c(a.name),e[o]=i,$(n).data("file",i))):(n=document.createElement("tr"),$(n.insertCell(-1)).html(r),$(n.insertCell(-1)).html(a.name),$(n.insertCell(-1)).html(p(a.size)).addClass("hidden-xs"),$(n.insertCell(-1)).html('<a href="#" class="btn btn-transparent btn-md row-remove"><i class="material-icons">delete</i></a>'),$(n).data("file",i),$(n).data("remote",!1),$(n).data("basename",a.name),$("#beebmx-panel-files tbody").append(n),e.push(i)),d()):console.log("error",a.error)}).on("fileuploadprogressall",function(e,t){var i=100*o/s,a=parseInt(t.loaded/t.total*100,10)/s+i;$("#beebmx-panel-files .progress > .progress-bar").css("width",a+"%")}).on("fileuploaddone",function(i,a){o++,e.shift(),t.push({file:a.files[0].name,action:"add"}),y()})},d=function(){$("#beebmx-panel-files tbody .row-remove").off("click").on("click",function(i){i.preventDefault(),document.dispatchEvent(l.del);var a=$(this).parent().parent(),n,r,o;$(a).data("remote")?t.push({file:$(a).data("basename"),action:"delete"}):(o=$(a).data("file"),n=c(o.files[0].name),e.splice(n,1)),r=h($(a).data("basename")),$("#beebmx-panel-files tbody tr").eq(r-1).remove()})},c=function(t){var i=!1;return $.each(e,function(e,a){t===a.files[0].name&&(i=e)}),i},h=function(e){var t=!1;return $("#beebmx-panel-files tbody tr").each(function(i,a){e===$(this).data("basename")&&(t=this.rowIndex)}),t},p=function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},f=function(e,t){var i,a=new Image;i=document.createElement("canvas"),i.width=40,i.height=40,a.src=e,a.onload=function(){var e=Math.min(70/a.width,70/a.height);i.getContext("2d").drawImage(a,0,0,a.width,a.height,(i.width-a.width*e)/2,(i.height-a.height*e)/2,a.width*e,a.height*e),t.html(i)}},g=function(){var e,t=$("body.form #beebmx-panel-files tbody tr");t.length&&$.each(t,function(e,t){var i=m($(t).data("mime"),!1,t);i&&$(t).children("td").eq(0).html(i)}),d()},m=function(e,t,i){document.dispatchEvent(l.add);var a=!1;switch(e){case"image":case"image/jpeg":case"image/gif":case"image/png":a=t?t.preview:'<span class="file-viewer"><img src="'+$(i).data("thumb")+'" /></span>';break;default:a='<span class="file-icon"><i class="material-icons">insert_drive_file</i></span>'}return a},v=function(){$("form.panel-form").on("submit",function(i){i.preventDefault(),e.length?(s=e.length,y()):($("#beebmx_panel_files_uploaded").val(JSON.stringify(t)),this.submit())})},y=function(){e.length?e[0].submit():$("form.panel-form").submit()};return{init:function(e){u(e),v(),g()}}}(),Select=function(){var e=function(){var e=[],t=$("#beebmx-panel-files tbody tr");return $(t).each(function(t,i){e.push($(i.cells[1]).text())}),e},t=function(e,t){var i=$(e),a=i.find("option").first();i.find("option").remove(),i.append(a),$.each(t,function(e,t){i.append('<option value="'+t+'">'+t+"</option>")})},i=function(i){var a=$("select.dynamic");a.each(function(a,n){switch($(n).data("type")){case"file":t(n,e())}i&&$(n).val($(n).data("init"))})},a=function(){document.addEventListener("fileAdd",function(e){setTimeout(function(){i(!1)})}),document.addEventListener("fileDel",function(e){setTimeout(function(){i(!1)})})},n=function(){i(!0)};return{init:function(){a(),n()}}}(),Textarea=function(){function e(e,t){var i=$(t),a=i.attr("data-locale"),n=i.attr("data-height")?i.data("height"):250,r=i.attr("data-plugins")?[i.data("plugins")]:["advlist autolink lists link image preview anchor media table contextmenu paste code"],o=i.attr("data-toolbar")?i.data("toolbar"):"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image media | preview code",s=$("#beebmx-panel-files tbody tr"),l=[],u="en"!==a?"es_MX":null,d="en"!==a?e:null;$(s).each(function(e,t){l.push({title:$(t).data("basename"),value:$(t).data("uri")})}),tinymce.init({selector:"#"+t.id,entity_encoding:"raw",language:u,language_url:d,menubar:!1,statusbar:!1,convert_urls:!1,image_advtab:!0,image_caption:!0,image_description:!0,image_list:l,height:n,plugins:r,toolbar:o})}return{init:function(t){$("textarea.textarea").each(function(i,a){e(t,a)})}}}(),Structure=function(){function e(e){var i=$(e),a=i.data("structure"),n=$("table#table-"+a),r=String(n.data("header")).split("|"),o=String(i.data("fields")).split("|"),s=n.children("thead"),l=n.children("tbody"),u=document.createElement("tr"),d;$.each(r,function(e,t){d=$(document.createElement("th")).html(t),$(u).append(d)}),d=$(document.createElement("th")).html(""),$(u).append(d),s.append(u),t(a),$("#modal-"+a).on("show.bs.modal",function(e){var n=$(this),r=$(e.relatedTarget);if(r.length){var s=""!==i.val()?JSON.parse(i.val()):[],l=r.data("data"),u=r.data("index"),d=n.find("form"),c=n.find(".save-structure"),h={},p,f,g=[],m,v="new";"undefined"==typeof l?v="new":(v="edit",h=JSON.parse(l),$.each(o,function(e,t){p=n.find("#modal-"+t),p.val(h[t]),p.hasClass("textarea")&&tinymce.get("modal-"+t).setContent(h[t]),p.hasClass("checkbox")&&h[t]&&$(p).prop("checked",!0),n.find('input[name="modal-'+t+'[]"]').length&&$.each(h[t],function(e,i){$.each(n.find('input[name="modal-'+t+'[]"]'),function(e,t){t.value===i&&$(t).prop("checked",!0)})})})),$(c).on("click",function(e){$(c).off("click"),n.find("textarea.textarea").length&&tinymce.triggerSave(),$.each(o,function(e,t){m=n.find("#modal-"+t),f=m.val(),m.hasClass("checkbox")&&(f=m.is(":checked")?1:0),"undefined"==typeof f&&($.each(n.find('input[name="modal-'+t+'[]"]:checked'),function(e,t){g.push($(t).val())}),f=g),h[t]=f}),"new"===v?s.push(h):s[u]=h,i.val(JSON.stringify(s)),t(a),n.modal("hide")})}}),$("#modal-"+a).on("hidden.bs.modal",function(e){var t=$(this),i=t.find("form"),a=t.find(".save-structure");i[0].reset(),$(a).off("click")})}function t(e){var i=$("#"+e),a=""!==i.val()?JSON.parse(i.val()):[],n=$("table#table-"+e),r=n.children("tbody"),o=String(n.data("fields")).split("|"),s=""!==i.val()?JSON.parse(i.val()):[],l,u,d,c;r.html(""),$.each(s,function(t,i){l=document.createElement("tr"),$.each(o,function(e,t){$(l.insertCell(-1)).html(i[t])}),u=l.insertCell(-1),d=$(document.createElement("a")),d.html('<i class="material-icons">mode_edit</i>').attr("href","#").attr("data-toggle","modal").attr("data-target","#modal-"+e).data("index",t).data("data",JSON.stringify(i)),c=$(document.createElement("a")),c.html('<i class="material-icons">delete</i>').attr("href","#").addClass("element-delete").data("index",t),$(u).append(d),$(u).append(c),$(l).append(u),r.append(l)}),n.find(".element-delete").on("click",function(n){n.preventDefault(),a.splice($(this).data("index"),1),i.val(JSON.stringify(a)),t(e)})}function i(e){var t=$(e),i=t.data("structure"),n=""!==t.val()?JSON.parse(t.val()):[],r=$("table#table-"+i),o=String(r.data("header")).split("|"),s=String(t.data("fields")).split("|"),l=r.children("thead"),u=r.children("tbody"),d=document.createElement("tr"),c;$.each(o,function(e,t){c=$(document.createElement("th")).html(t),$(d).append(c)}),l.append(d),a(i)}function a(e){var t=$("#"+e),i=""!==t.val()?JSON.parse(t.val()):[],a=$("table#table-"+e),n=a.children("tbody"),r=String(a.data("fields")).split("|"),o=""!==t.val()?JSON.parse(t.val()):[],s,l,u,d;n.html(""),$.each(o,function(e,t){s=document.createElement("tr"),$.each(r,function(e,i){$(s.insertCell(-1)).html(t[i])}),n.append(s)})}return{init:function(){$("a.modal-add").on("click",function(e){e.preventDefault()}),$("input.structure").each(function(t,i){e(i)})},view:function(){$("input.structure").each(function(e,t){i(t)})}}}(),Colorpicker=function(){function e(e){var t=$(e),i=!!t.attr("data-colors"),a=String(t.data("colors")).split("|"),n=[],r=[],o;$.each(a,function(e,t){o=String(t).split(","),1===o.length?n.push("#"+o[0]):(r=[],$.each(o,function(e,t){r.push("#"+t)}),n.push(r))}),t.spectrum({preferredFormat:"hex",showInput:!0,showPalette:i,palette:n,hideAfterPaletteSelect:!0,allowEmpty:!0})}return{init:function(){$("input.color").each(function(t,i){e(i)})}}}();$(function(){var e=$(".datepicker .input").attr("data-locale");$(".datepicker").datepicker({format:"yyyy-mm-dd",todayHighlight:!0,autoclose:!0,orientation:"bottom left",language:e})}),$.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sabado","Domingo"],daysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]};var Geolocation=function(){function e(e){var t,n,r=[],s=$(e),d=s.find("input.map"),c=s.find("input.map").val(),h=s.find("input.map-search"),p=s.find("button.map-button"),f=d[0].id;u[f]=[],l[f]={canvas:s.find("div.map-canvas"),field:s.find("input.map"),map_geo:null,geocoder:null,defaultLat:d.data("lat"),defaultLng:d.data("lng"),currentLat:null,currentLng:null,defaults:{panControl:!1,zoomControl:!0,zoomControlOptions:!0,scaleControl:!1,mapTypeControl:!1,streetViewControl:!1,scrollwheel:!1,zoom:d.data("zoom")}},null===l[f].currentLat&&c?(r=c.split(","),l[f].currentLat=r[0],l[f].currentLng=r[1],l[f].defaults.zoom=15):(l[f].currentLat=l[f].defaultLat,l[f].currentLng=l[f].defaultLng),i(f,!1,!1);var g=$.extend({},l[f].defaults,{center:new google.maps.LatLng(l[f].currentLat,l[f].currentLng),minZoom:3});l[f].map_geo=new google.maps.Map(l[f].canvas[0],g),t=new google.maps.LatLng(l[f].currentLat,l[f].currentLng),l[f].geocoder=new google.maps.Geocoder,a(f,t),h.on("keypress",function(e){if(13===e.which){if(e.preventDefault(),n=h.val(),""===n)return void h.focus();o(f,n)}}),p.on("click",function(e){return e.preventDefault(),n=h.val(),""===n?void h.focus():void o(f,n)})}function t(e){return l[e].currentLat,l[e].currentLng}function i(e,t,i){var a;a=t||i?t+","+i:l[e].currentLat+","+l[e].currentLng,l[e].field.val(a)}function a(e,t){d=new google.maps.Marker({position:t,map:l[e].map_geo,draggable:!0,animation:google.maps.Animation.DROP}),u[e].push(d),google.maps.event.addListener(d,"dragend",function(){n(e,this.getPosition(),!1)})}function n(e,t,a){l[e].map_geo.panTo(t),a&&l[e].map_geo.setZoom(15),i(e,t.lat(),t.lng())}function r(e){for(var t=0;t<u[e].length;t++)u[e][t].setMap(null);u[e]=[]}function o(e,t){l[e].geocoder.geocode({address:t},function(t,i){if(i===google.maps.GeocoderStatus.OK){var o=t[0].geometry.location;r(e),a(e,o),n(e,o,!0)}else alert("Geocode was not successful for the following reason: "+i)})}function s(){var e=$(".map-geolocation").first().data("api"),t=document.createElement("script");t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?key="+e+"&callback=Geolocation.setMaps",document.body.appendChild(t)}var l={},u={},d;return{init:function(){$(".map-geolocation").length&&s()},setMaps:function(){$(".map-geolocation").each(function(t,i){e(i)})},view:function(){}}}();$(function($){if($(".datetimepicker").length){var e=$(".datepicker .input").attr("data-locale");$(".datetimepicker").datetimepicker({locale:e,allowInputToggle:!0,useCurrent:!0,format:"YYYY-MM-DD HH:mm"})}});