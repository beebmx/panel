!function($){function e(){r.hasClass(u)?o.toggleClass(c):o.toggleClass(d),m&&r.one("transitionend",function(){m.focus()})}function t(){r.hasClass(u)?o.removeClass(c):o.removeClass(d)}function i(){r.hasClass(u)?(o.addClass(c),r.animate({left:"0px"},g),s.animate({left:v},g),l.animate({left:v},g)):(o.addClass(d),r.animate({right:"0px"},g),s.animate({right:v},g),l.animate({right:v},g)),m&&m.focus()}function n(){r.hasClass(u)?(o.removeClass(c),r.animate({left:"-"+v},g),s.animate({left:"0px"},g),l.animate({left:"0px"},g)):(o.removeClass(d),r.animate({right:"-"+v},g),s.animate({right:"0px"},g),l.animate({right:"0px"},g))}function a(){$(b).addClass(w),$(b).on("click",function(){var e=$(this);e.hasClass(w)?($(b).addClass(w).removeClass(y),e.removeClass(w).addClass(y)):e.addClass(w).removeClass(y)})}var r=$(".pushy"),o=$("body"),s=$("#container"),l=$(".push"),u="pushy-left",c="pushy-open-left",d="pushy-open-right",f=$(".site-overlay"),p=$(".menu-btn, .pushy-link"),h=$(".menu-btn"),m=$(r.data("focus")),g=200,v=r.width()+"px",b=".pushy-submenu",y="pushy-submenu-open",w="pushy-submenu-closed",_=$(b);$(document).keyup(function(e){27==e.keyCode&&(o.hasClass(c)||o.hasClass(d))&&(x?t():(n(),S=!1),h&&h.focus())});var x=function e(){var t=document.createElement("p"),i=!1,n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};if(null!==document.body){document.body.insertBefore(t,null);for(var a in n)void 0!==t.style[a]&&(t.style[a]="translate3d(1px,1px,1px)",i=window.getComputedStyle(t).getPropertyValue(n[a]));return document.body.removeChild(t),void 0!==i&&i.length>0&&"none"!==i}return!1}();if(x)a(),p.on("click",function(){e()}),f.on("click",function(){e()});else{o.addClass("no-csstransforms3d"),r.hasClass(u)?r.css({left:"-"+v}):r.css({right:"-"+v}),s.css({"overflow-x":"hidden"});var S=!1;a(),p.on("click",function(){S?(n(),S=!1):(i(),S=!0)}),f.on("click",function(){S?(n(),S=!1):(i(),S=!0)})}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function($){var e=0,t=Array.prototype.slice;$.cleanData=function(e){return function(t){var i,n,a;for(a=0;null!=(n=t[a]);a++)try{i=$._data(n,"events"),i&&i.remove&&$(n).triggerHandler("remove")}catch(e){}e(t)}}($.cleanData),$.widget=function(e,t,i){var n,a,r,o,s={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,i||(i=t,t=$.Widget),$.expr[":"][n.toLowerCase()]=function(e){return!!$.data(e,n)},$[l]=$[l]||{},a=$[l][e],r=$[l][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},$.extend(r,a,{version:i.version,_proto:$.extend({},i),_childConstructors:[]}),o=new t,o.options=$.widget.extend({},o.options),$.each(i,function(e,i){return $.isFunction(i)?void(s[e]=function(){var n=function(){return t.prototype[e].apply(this,arguments)},a=function(i){return t.prototype[e].apply(this,i)};return function(){var e=this._super,t=this._superApply,r;return this._super=n,this._superApply=a,r=i.apply(this,arguments),this._super=e,this._superApply=t,r}}()):void(s[e]=i)}),r.prototype=$.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix||e:e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:n}),a?($.each(a._childConstructors,function(e,t){var i=t.prototype;$.widget(i.namespace+"."+i.widgetName,r,t._proto)}),delete a._childConstructors):t._childConstructors.push(r),$.widget.bridge(e,r),r},$.widget.extend=function(e){for(var i=t.call(arguments,1),n=0,a=i.length,r,o;n<a;n++)for(r in i[n])o=i[n][r],i[n].hasOwnProperty(r)&&void 0!==o&&($.isPlainObject(o)?e[r]=$.isPlainObject(e[r])?$.widget.extend({},e[r],o):$.widget.extend({},o):e[r]=o);return e},$.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;$.fn[e]=function(a){var r="string"==typeof a,o=t.call(arguments,1),s=this;return r?this.each(function(){var t,i=$.data(this,n);return"instance"===a?(s=i,!1):i?$.isFunction(i[a])&&"_"!==a.charAt(0)?(t=i[a].apply(i,o),t!==i&&void 0!==t?(s=t&&t.jquery?s.pushStack(t.get()):t,!1):void 0):$.error("no such method '"+a+"' for "+e+" widget instance"):$.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):(o.length&&(a=$.widget.extend.apply(null,[a].concat(o))),this.each(function(){var e=$.data(this,n);e?(e.option(a||{}),e._init&&e._init()):$.data(this,n,new i(a,this))})),s}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=$(i||this.defaultElement||this)[0],this.element=$(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),i!==this&&($.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=$(i.style?i.ownerDocument:i.document||i),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(e,t){var i=e,n,a,r;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof e)if(i={},n=e.split("."),e=n.shift(),n.length){for(a=i[e]=$.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)a[n[r]]=a[n[r]]||{},a=a[n[r]];if(e=n.pop(),1===arguments.length)return void 0===a[e]?null:a[e];a[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];i[e]=t}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,t,i){var n,a=this;"boolean"!=typeof e&&(i=t,t=e,e=!1),i?(t=n=$(t),this.bindings=this.bindings.add(t)):(i=t,t=this.element,n=this.widget()),$.each(i,function(i,r){function o(){if(e||a.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof r?a[r]:r).apply(a,arguments)}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||$.guid++);var s=i.match(/^([\w:-]*)\s*(.*)$/),l=s[1]+a.eventNamespace,u=s[2];u?n.delegate(u,l,o):t.bind(l,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=$(this.bindings.not(e).get()),this.focusable=$(this.focusable.not(e).get()),this.hoverable=$(this.hoverable.not(e).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){$(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){$(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){$(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){$(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,a,r=this.options[e];if(i=i||{},t=$.Event(t),t.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],a=t.originalEvent)for(n in a)n in t||(t[n]=a[n]);return this.element.trigger(t,i),!($.isFunction(r)&&r.apply(this.element[0],[t].concat(i))===!1||t.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(e,t){$.Widget.prototype["_"+e]=function(i,n,a){"string"==typeof n&&(n={effect:n});var r,o=n?n===!0||"number"==typeof n?t:n.effect||t:e;n=n||{},"number"==typeof n&&(n={duration:n}),r=!$.isEmptyObject(n),n.complete=a,n.delay&&i.delay(n.delay),r&&$.effects&&$.effects.effect[o]?i[e](n):o!==e&&i[o]?i[o](n.duration,n.easing,a):i.queue(function(t){$(this)[e](),a&&a.call(i[0]),t()})}});var i=$.widget}),!function(e){"use strict";function t(e,i,n){var a,r=document.createElement("img");if(r.onerror=function(a){return t.onerror(r,a,e,i,n)},r.onload=function(a){return t.onload(r,a,e,i,n)},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))a=r._objectURL=t.createObjectURL(e);else{if("string"!=typeof e)return!1;a=e,n&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin)}return a?(r.src=a,r):t.readFile(e,function(e){var t=e.target;t&&t.result?r.src=t.result:i&&i(e)})}function i(e,i){!e._objectURL||i&&i.noRevoke||(t.revokeObjectURL(e._objectURL),delete e._objectURL)}var n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,i,n,a,r){n(t.scale(e,i,r),r)},t.onerror=function(e,t,n,a,r){i(e,r),a&&a.call(e,t)},t.onload=function(e,n,a,r,o){i(e,o),r&&t.transform(e,o,r,a,{})},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var i,n,a,r,o=t.aspectRatio;if(!o)return t;i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i.crop=!0,a=e.naturalWidth||e.width,r=e.naturalHeight||e.height,a/r>o?(i.maxWidth=r*o,i.maxHeight=r):(i.maxWidth=a,i.maxHeight=a/o),i},t.renderImageToCanvas=function(e,t,i,n,a,r,o,s,l,u){return e.getContext("2d").drawImage(t,i,n,a,r,o,s,l,u),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},t.scale=function(e,i,n){function a(){var e=Math.max((l||_)/_,(u||x)/x);e>1&&(_*=e,x*=e)}function r(){var e=Math.min((o||_)/_,(s||x)/x);e<1&&(_*=e,x*=e)}i=i||{};var o,s,l,u,c,d,f,p,h,m,g,v=document.createElement("canvas"),b=e.getContext||t.hasCanvasOption(i)&&v.getContext,y=e.naturalWidth||e.width,w=e.naturalHeight||e.height,_=y,x=w;if(b&&(i=t.getTransformedOptions(e,i,n),f=i.left||0,p=i.top||0,i.sourceWidth?(c=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(f=y-c-i.right)):c=y-f-(i.right||0),i.sourceHeight?(d=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(p=w-d-i.bottom)):d=w-p-(i.bottom||0),_=c,x=d),o=i.maxWidth,s=i.maxHeight,l=i.minWidth,u=i.minHeight,b&&o&&s&&i.crop?(_=o,x=s,g=c/d-o/s,g<0?(d=s*c/o,void 0===i.top&&void 0===i.bottom&&(p=(w-d)/2)):g>0&&(c=o*d/s,void 0===i.left&&void 0===i.right&&(f=(y-c)/2))):((i.contain||i.cover)&&(l=o=o||l,u=s=s||u),i.cover?(r(),a()):(a(),r())),b){if(h=i.pixelRatio,h>1&&(v.style.width=_+"px",v.style.height=x+"px",_*=h,x*=h,v.getContext("2d").scale(h,h)),m=i.downsamplingRatio,m>0&&m<1&&_<c&&x<d)for(;c*m>_;)v.width=c*m,v.height=d*m,t.renderImageToCanvas(v,e,f,p,c,d,0,0,v.width,v.height),c=v.width,d=v.height,e=document.createElement("canvas"),e.width=c,e.height=d,t.renderImageToCanvas(e,v,0,0,c,d,0,0,c,d);return v.width=_,v.height=x,t.transformCoordinates(v,i),t.renderImageToCanvas(v,e,f,p,c,d,0,0,_,x)}return e.width=_,e.height=x,e},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(e,t,i){if(window.FileReader){var n=new FileReader;if(n.onload=n.onerror=t,i=i||"readAsDataURL",n[i])return n[i](e),n}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,n,a){n=n||{},a=a||{};var r=this,o=n.maxMetaDataSize||262144,s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,o),function(t){if(t.target.error)return console.log(t.target.error),void i(a);var o,s,l,u,c=t.target.result,d=new DataView(c),f=2,p=d.byteLength-4,h=f;if(65496===d.getUint16(0)){for(;f<p&&(o=d.getUint16(f),o>=65504&&o<=65519||65534===o);){if(s=d.getUint16(f+2)+2,f+s>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[o])for(u=0;u<l.length;u+=1)l[u].call(r,d,f,s,a,n);f+=s,h=f}!n.disableImageHead&&h>6&&(c.slice?a.imageHead=c.slice(0,h):a.imageHead=new Uint8Array(c).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(a)},"readAsArrayBuffer")||i(a)},e.hasMetaOption=function(e){return e.meta};var i=e.transform;e.transform=function(t,n,a,r,o){e.hasMetaOption(n||{})?e.parseMetaData(r,function(o){i.call(e,t,n,a,r,o)},n,o):i.apply(e,arguments)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var n,a,r;if(!i||t+i>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(n=[],a=0;a<i;a+=1)r=e.getUint8(t+a),n.push((r<16?"0":"")+r.toString(16));return"data:image/jpeg,%"+n.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,n,a,r,o){var s,l,u,c,d,f,p=e.exifTagTypes[a];if(!p)return void console.log("Invalid Exif data: Invalid tag type.");if(s=p.size*r,l=s>4?i+t.getUint32(n+8,o):n+8,l+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===r)return p.getValue(t,l,o);for(u=[],c=0;c<r;c+=1)u[c]=p.getValue(t,l+c*p.size,o);if(p.ascii){for(d="",c=0;c<u.length&&(f=u[c],"\0"!==f);c+=1)d+=f;return d}return u},e.parseExifTag=function(t,i,n,a,r){var o=t.getUint16(n,a);r.exif[o]=e.getExifValue(t,i,n,t.getUint16(n+2,a),t.getUint32(n+4,a),a)},e.parseExifTags=function(e,t,i,n,a){var r,o,s;if(i+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(i,n),o=i+2+12*r,o+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;s<r;s+=1)this.parseExifTag(e,t,i+2+12*s,n,a);return e.getUint32(o,n)},e.parseExifData=function(t,i,n,a,r){if(!r.disableExif){var o,s,l,u=i+10;if(1165519206===t.getUint32(i+4)){if(u+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,o))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(u+4,o),a.exif=new e.ExifMap,s=e.parseExifTags(t,u,u+s,o,a),s&&!r.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,u,u+s,o,l),l.exif[513]&&(a.exif.Thumbnail=e.getExifThumbnail(t,u+l.exif[513],l.exif[514]))),a.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,u,u+a.exif[34665],o,a),a.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,u,u+a.exif[34853],o,a)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,i=e.tags,n=e.map;for(t in i)i.hasOwnProperty(t)&&(n[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(i[t]=this.getText(t)));return i}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption,i=e.hasMetaOption,n=e.transformCoordinates,a=e.getTransformedOptions;e.hasCanvasOption=function(i){return!!i.orientation||t.call(e,i)},e.hasMetaOption=function(t){return t.orientation===!0||i.call(e,t)},e.transformCoordinates=function(t,i){n.call(e,t,i);var a=t.getContext("2d"),r=t.width,o=t.height,s=t.style.width,l=t.style.height,u=i.orientation;if(u&&!(u>8))switch(u>4&&(t.width=o,t.height=r,t.style.width=l,t.style.height=s),u){case 2:a.translate(r,0),a.scale(-1,1);break;case 3:a.translate(r,o),a.rotate(Math.PI);break;case 4:a.translate(0,o),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-o);break;case 7:a.rotate(.5*Math.PI),a.translate(r,-o),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-r,0)}},e.getTransformedOptions=function(t,i,n){var r,o,s=a.call(e,t,i),l=s.orientation;if(l===!0&&n&&n.exif&&(l=n.exif.get("Orientation")),!l||l>8||1===l)return s;r={};for(o in s)s.hasOwnProperty(o)&&(r[o]=s[o]);switch(r.orientation=l,l){case 2:r.left=s.right,r.right=s.left;break;case 3:r.left=s.right,r.top=s.bottom,r.right=s.left,r.bottom=s.top;break;case 4:r.top=s.bottom,r.bottom=s.top;break;case 5:r.left=s.top,r.top=s.left,r.right=s.bottom,r.bottom=s.right;break;case 6:r.left=s.top,r.top=s.right,r.right=s.bottom,r.bottom=s.left;break;case 7:r.left=s.bottom,r.top=s.right,r.right=s.top,r.bottom=s.left;break;case 8:r.left=s.bottom,r.top=s.left,r.right=s.top,r.bottom=s.right}return r.orientation>4&&(r.maxWidth=s.maxHeight,r.maxHeight=s.maxWidth,r.minWidth=s.minHeight,r.minHeight=s.minWidth,r.sourceWidth=s.sourceHeight,r.sourceHeight=s.sourceWidth),r}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function($){"use strict";var e=0;$.ajaxTransport("iframe",function(t){if(t.async){var i=t.initialIframeSrc||"javascript:false;",n,a,r;return{send:function(o,s){n=$('<form style="display:none;"></form>'),n.attr("accept-charset",t.formAcceptCharset),r=/\?/.test(t.url)?"&":"?","DELETE"===t.type?(t.url=t.url+r+"_method=DELETE",t.type="POST"):"PUT"===t.type?(t.url=t.url+r+"_method=PUT",t.type="POST"):"PATCH"===t.type&&(t.url=t.url+r+"_method=PATCH",t.type="POST"),e+=1,a=$('<iframe src="'+i+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,r=$.isArray(t.paramName)?t.paramName:[t.paramName];a.unbind("load").bind("load",function(){var e;try{if(e=a.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=void 0}s(200,"success",{iframe:e}),$('<iframe src="'+i+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",a.prop("name")).prop("action",t.url).prop("method",t.type),t.formData&&$.each(t.formData,function(e,t){$('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(n)}),t.fileInput&&t.fileInput.length&&"POST"===t.type&&(e=t.fileInput.clone(),t.fileInput.after(function(t){return e[t]}),t.paramName&&t.fileInput.each(function(e){$(this).prop("name",r[e]||t.paramName)}),n.append(t.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),t.fileInput.removeAttr("form")),n.submit(),e&&e.length&&t.fileInput.each(function(t,i){var n=$(e[t]);$(i).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(i)})}),n.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",i),n&&n.remove()}}}}),$.ajaxSetup({converters:{"iframe text":function(e){return e&&$(e[0].body).text()},"iframe json":function(e){return e&&$.parseJSON($(e[0].body).text())},"iframe html":function(e){return e&&$(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&$.isXMLDoc(t)?t:$.parseXML(t.XMLDocument&&t.XMLDocument.xml||$(t.body).html())},"iframe script":function(e){return e&&$.globalEval($(e[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function($){"use strict";function e(e){var t="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var n=i.dataTransfer;n&&$.inArray("Files",n.types)!==-1&&this._trigger(e,$.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),t&&(n.dropEffect="copy"))}}$.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||$('<input type="file">').prop("disabled")),$.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),$.support.xhrFormDataFileUpload=!!window.FormData,$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),$.widget("blueimp.fileupload",{options:{dropZone:$(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,t){return e=this.messages[e]||e.toString(),t&&$.each(t,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(e){return e.serializeArray()},add:function(e,t){return!e.isDefaultPrevented()&&void((t.autoUpload||t.autoUpload!==!1&&$(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:$.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload)},_getFormData:function(e){var t;return"function"===$.type(e.formData)?e.formData(e.form):$.isArray(e.formData)?e.formData:"object"===$.type(e.formData)?(t=[],$.each(e.formData,function(e,i){t.push({name:e,value:i})}),t):[]},_getTotal:function(e){var t=0;return $.each(e,function(e,i){t+=i.size||1}),t},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?$.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var i=Date.now?Date.now():(new Date).getTime(),n;if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",$.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",$.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var t=this,i=e.xhr?e.xhr():$.ajaxSettings.xhr();i.upload&&($(i.upload).bind("progress",function(i){var n=i.originalEvent;i.lengthComputable=n.lengthComputable,i.loaded=n.loaded,i.total=n.total,t._onProgress(i,e)}),e.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(e){var t=this,i,n=e.files[0],a=e.multipart||!$.support.xhrFileUpload,r="array"===$.type(e.paramName)?e.paramName[0]:e.paramName;
e.headers=$.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),a&&!e.blob&&this._isInstanceOf("File",n)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),a?$.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):$.each(e.files,function(t,n){i.push({name:"array"===$.type(e.paramName)&&e.paramName[t]||r,value:n})})):(t._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,$.each(this._getFormData(e),function(e,t){i.append(t.name,t.value)})),e.blob?i.append(r,e.blob,n.name):$.each(e.files,function(n,a){(t._isInstanceOf("File",a)||t._isInstanceOf("Blob",a))&&i.append("array"===$.type(e.paramName)&&e.paramName[n]||r,a,a.uploadName||a.name)})),e.data=i):(e.contentType=n.type||"application/octet-stream",e.data=e.blob||n),e.blob=null},_initIframeSettings:function(e){var t=$("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=$(e.fileInput),i=e.paramName;return i?$.isArray(i)||(i=[i]):(i=[],t.each(function(){for(var e=$(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)i.push(t),n-=1}),i.length||(i=[t.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=$(e.fileInput.prop("form")),e.form.length||(e.form=$(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===$.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=$.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,i){var n=$.Deferred(),a=n.promise();return t=t||this.options.context||a,e===!0?n.resolveWith(t,i):e===!1&&n.rejectWith(t,i),a.abort=n.promise,this._enhancePromise(a)},_addConvenienceMethods:function(e,t){var i=this,n=function(e){return $.Deferred().resolveWith(i,e).promise()};t.process=function(e,a){return(e||a)&&(t._processQueue=this._processQueue=(this._processQueue||n([this])).then(function(){return t.errorThrown?$.Deferred().rejectWith(i,[t]).promise():n(arguments)}).then(e,a)),this._processQueue||n([this])},t.submit=function(){return"pending"!==this.state()&&(t.jqXHR=this.jqXHR=i._trigger("submit",$.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},t.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},t.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},t.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},t.progress=function(){return this._progress},t.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,t){e.uploadedBytes=e.uploadedBytes||0;var i=this,n=e.files[0],a=n.size,r=e.uploadedBytes,o=e.maxChunkSize||a,s=this._blobSlice,l=$.Deferred(),u=l.promise(),c,d;return!(!(this._isXHRUpload(e)&&s&&(r||o<a))||e.data)&&(!!t||(r>=a?(n.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",n.error])):(d=function(){var t=$.extend({},e),u=t._progress.loaded;t.blob=s.call(n,r,r+o,n.type),t.chunkSize=t.blob.size,t.contentRange="bytes "+r+"-"+(r+t.chunkSize-1)+"/"+a,i._initXHRData(t),i._initProgressListener(t),c=(i._trigger("chunksend",null,t)!==!1&&$.ajax(t)||i._getXHRPromise(!1,t.context)).done(function(n,o,s){r=i._getUploadedBytes(s)||r+t.chunkSize,u+t.chunkSize-t._progress.loaded&&i._onProgress($.Event("progress",{lengthComputable:!0,loaded:r-t.uploadedBytes,total:r-t.uploadedBytes}),t),e.uploadedBytes=t.uploadedBytes=r,t.result=n,t.textStatus=o,t.jqXHR=s,i._trigger("chunkdone",null,t),i._trigger("chunkalways",null,t),r<a?d():l.resolveWith(t.context,[n,o,s])}).fail(function(e,n,a){t.jqXHR=e,t.textStatus=n,t.errorThrown=a,i._trigger("chunkfail",null,t),i._trigger("chunkalways",null,t),l.rejectWith(t.context,[e,n,a])})},this._enhancePromise(u),u.abort=function(){return c.abort()},d(),u)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,i,n){var a=n._progress.total,r=n._response;n._progress.loaded<a&&this._onProgress($.Event("progress",{lengthComputable:!0,loaded:a,total:a}),n),r.result=n.result=e,r.textStatus=n.textStatus=t,r.jqXHR=n.jqXHR=i,this._trigger("done",null,n)},_onFail:function(e,t,i,n){var a=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),a.jqXHR=n.jqXHR=e,a.textStatus=n.textStatus=t,a.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var i=this,n,a,r,o,s=i._getAJAXSettings(t),l=function(){return i._sending+=1,s._bitrateTimer=new i._BitrateTimer,n=n||((a||i._trigger("send",$.Event("send",{delegatedEvent:e}),s)===!1)&&i._getXHRPromise(!1,s.context,a)||i._chunkedUpload(s)||$.ajax(s)).done(function(e,t,n){i._onDone(e,t,n,s)}).fail(function(e,t,n){i._onFail(e,t,n,s)}).always(function(e,t,n){if(i._onAlways(e,t,n,s),i._sending-=1,i._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>i._sending)for(var a=i._slots.shift();a;){if("pending"===i._getDeferredState(a)){a.resolve();break}a=i._slots.shift()}0===i._active&&i._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=$.Deferred(),this._slots.push(r),o=r.then(l)):(this._sequence=this._sequence.then(l,l),o=this._sequence),o.abort=function(){return a=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(s.context,a),l())},this._enhancePromise(o)):l()},_onAdd:function(e,t){var i=this,n=!0,a=$.extend({},this.options,t),r=t.files,o=r.length,s=a.limitMultiFileUploads,l=a.limitMultiFileUploadSize,u=a.limitMultiFileUploadSizeOverhead,c=0,d=this._getParamName(a),f,p,h,m,g=0;if(!o)return!1;if(l&&void 0===r[0].size&&(l=void 0),(a.singleFileUploads||s||l)&&this._isXHRUpload(a))if(a.singleFileUploads||l||!s)if(!a.singleFileUploads&&l)for(h=[],f=[],m=0;m<o;m+=1)c+=r[m].size+u,(m+1===o||c+r[m+1].size+u>l||s&&m+1-g>=s)&&(h.push(r.slice(g,m+1)),p=d.slice(g,m+1),p.length||(p=d),f.push(p),g=m+1,c=0);else f=d;else for(h=[],f=[],m=0;m<o;m+=s)h.push(r.slice(m,m+s)),p=d.slice(m,m+s),p.length||(p=d),f.push(p);else h=[r],f=[d];return t.originalFiles=r,$.each(h||r,function(a,r){var o=$.extend({},t);return o.files=h?r:[r],o.paramName=f[a],i._initResponseObject(o),i._initProgressObject(o),i._addConvenienceMethods(e,o),n=i._trigger("add",$.Event("add",{delegatedEvent:e}),o)}),n},_replaceFileInput:function(e){var t=e.fileInput,i=t.clone(!0),n=t.is(document.activeElement);e.fileInputClone=i,$("<form></form>").append(i)[0].reset(),t.after(i).detach(),n&&i.focus(),$.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,n){return n===t[0]?i[0]:n}),t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,t){var i=this,n=$.Deferred(),a=[],r,o=function(t){t&&!t.entry&&(t.entry=e),n.resolve([t])},s=function(a){i._handleFileTreeEntries(a,t+e.name+"/").done(function(e){n.resolve(e)}).fail(o)},l=function(){r.readEntries(function(e){e.length?(a=a.concat(e),l()):s(a)},o)};return t=t||"",e.isFile?e._file?(e._file.relativePath=t,n.resolve(e._file)):e.file(function(e){e.relativePath=t,n.resolve(e)},o):e.isDirectory?(r=e.createReader(),l()):n.resolve([]),n.promise()},_handleFileTreeEntries:function(e,t){var i=this;return $.when.apply($,$.map(e,function(e){return i._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var t=e.items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries($.map(t,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):$.Deferred().resolve($.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=$(e);var t=e.prop("webkitEntries")||e.prop("entries"),i,n;if(t&&t.length)return this._handleFileTreeEntries(t);if(i=$.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&$.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=e.prop("value"),!n)return $.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return $.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof $&&1!==e.length?$.when.apply($,$.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var t=this,i={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(n){i.files=n,t.options.replaceFileInput&&t._replaceFileInput(i),t._trigger("change",$.Event("change",{delegatedEvent:e}),i)!==!1&&t._onAdd(e,i)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};t&&t.length&&($.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",$.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,i=e.dataTransfer,n={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){n.files=i,t._trigger("drop",$.Event("drop",{delegatedEvent:e}),n)!==!1&&t._onAdd(e,n)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),$.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var i=$.inArray(e,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(e,t),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof $||(e.fileInput=$(e.fileInput)),e.dropZone instanceof $||(e.dropZone=$(e.dropZone)),e.pasteZone instanceof $||(e.pasteZone=$(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===$.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var e=this,t=this.options,i=this.element.data();$.each(this.element[0].attributes,function(n,a){var r=a.name.toLowerCase(),o;/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=i[r],e._isRegExpOption(r,o)&&(o=e._getRegExp(o)),t[r]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var t=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(i){e.files=i,t._onAdd(null,e)}):(e.files=$.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var t=this,i=$.Deferred(),n=i.promise(),a,r;return n.abort=function(){return r=!0,a?a.abort():(i.reject(null,"abort","abort"),n)},this._getFileInputFiles(e.fileInput).always(function(n){if(!r){if(!n.length)return void i.reject();e.files=n,a=t._onSend(null,e),a.then(function(e,t,n){i.resolve(e,t,n)},function(e,t,n){i.reject(e,t,n)})}}),this._enhancePromise(n)}if(e.files=$.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload")):e(window.jQuery)}(function($){"use strict";var e=$.blueimp.fileupload.prototype.options.add;$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{processQueue:[],add:function(t,i){var n=$(this);i.process(function(){return n.fileupload("process",i)}),e.call(this,t,i)}},processActions:{},_processFile:function(e,t){var i=this,n=$.Deferred().resolveWith(i,[e]),a=n.promise();return this._trigger("process",null,e),$.each(e.processQueue,function(e,n){var r=function(e){return t.errorThrown?$.Deferred().rejectWith(i,[t]).promise():i.processActions[n.action].call(i,e,n)};a=a.then(r,n.always&&r)}),a.done(function(){i._trigger("processdone",null,e),i._trigger("processalways",null,e)}).fail(function(){i._trigger("processfail",null,e),i._trigger("processalways",null,e)}),a},_transformProcessQueue:function(e){var t=[];$.each(e.processQueue,function(){var i={},n=this.action,a=this.prefix===!0?n:this.prefix;$.each(this,function(t,n){"string"===$.type(n)&&"@"===n.charAt(0)?i[t]=e[n.slice(1)||(a?a+t.charAt(0).toUpperCase()+t.slice(1):t)]:i[t]=n}),t.push(i)}),e.processQueue=t},processing:function(){return this._processing},process:function(e){var t=this,i=$.extend({},this.options,e);return i.processQueue&&i.processQueue.length&&(this._transformProcessQueue(i),0===this._processing&&this._trigger("processstart"),$.each(e.files,function(n){var a=n?$.extend({},i):i,r=function(){return e.errorThrown?$.Deferred().rejectWith(t,[e]).promise():t._processFile(a,e)};a.index=n,t._processing+=1,t._processingQueue=t._processingQueue.then(r,r).always(function(){t._processing-=1,0===t._processing&&t._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=$.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(t,i){if(i.disabled)return t;var n=this,a=t.files[t.index],r=$.Deferred();return"number"===$.type(i.maxFileSize)&&a.size>i.maxFileSize||i.fileTypes&&!i.fileTypes.test(a.type)||!e(a,function(e){e.src&&(t.img=e),r.resolveWith(n,[t])},i)?t:r.promise()},resizeImage:function(t,i){if(i.disabled||!t.canvas&&!t.img)return t;i=$.extend({canvas:!0},i);var n=this,a=$.Deferred(),r=i.canvas&&t.canvas||t.img,o=function(e){e&&(e.width!==r.width||e.height!==r.height||i.forceResize)&&(t[e.getContext?"canvas":"img"]=e),t.preview=e,a.resolveWith(n,[t])},s;if(t.exif){if(i.orientation===!0&&(i.orientation=t.exif.get("Orientation")),i.thumbnail&&(s=t.exif.get("Thumbnail")))return e(s,o,i),a.promise();t.orientation?delete i.orientation:t.orientation=i.orientation}return r?(o(e.scale(r,i)),a.promise()):t},saveImage:function(e,t){if(!e.canvas||t.disabled)return e;var i=this,n=e.files[e.index],a=$.Deferred();return e.canvas.toBlob?(e.canvas.toBlob(function(t){t.name||(n.type===t.type?t.name=n.name:n.name&&(t.name=n.name.replace(/\.\w+$/,"."+t.type.substr(6)))),n.type!==t.type&&delete e.imageHead,e.files[e.index]=t,a.resolveWith(i,[e])},t.type||n.type,t.quality),a.promise()):e},loadImageMetaData:function(t,i){if(i.disabled)return t;var n=this,a=$.Deferred();return e.parseMetaData(t.files[t.index],function(e){$.extend(t,e),a.resolveWith(n,[t])},i),a.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var i=e.files[e.index],n=new Blob([e.imageHead,this._blobSlice.call(i,20)],{type:i.type});return n.name=i.name,e.files[e.index]=n,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(t,i){if(i.disabled)return t;var n=t.files[t.index],a,r;return this._audioElement.canPlayType&&this._audioElement.canPlayType(n.type)&&("number"!==$.type(i.maxFileSize)||n.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(n.type))&&(a=e.createObjectURL(n))?(r=this._audioElement.cloneNode(!1),r.src=a,r.controls=!0,t.audio=r,t):t},setAudio:function(e,t){return e.audio&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.audio),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(t,i){if(i.disabled)return t;var n=t.files[t.index],a,r;return this._videoElement.canPlayType&&this._videoElement.canPlayType(n.type)&&("number"!==$.type(i.maxFileSize)||n.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(n.type))&&(a=e.createObjectURL(n))?(r=this._videoElement.cloneNode(!1),r.src=a,r.controls=!0,t.video=r,t):t},setVideo:function(e,t){return e.video&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.video),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload-process")):e(window.jQuery)}(function($){"use strict";$.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{getNumberOfFiles:$.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(e,t){if(t.disabled)return e;var i=$.Deferred(),n=this.options,a=e.files[e.index],r;return(t.minFileSize||t.maxFileSize)&&(r=a.size),"number"===$.type(t.maxNumberOfFiles)&&(n.getNumberOfFiles()||0)+e.files.length>t.maxNumberOfFiles?a.error=n.i18n("maxNumberOfFiles"):!t.acceptFileTypes||t.acceptFileTypes.test(a.type)||t.acceptFileTypes.test(a.name)?r>t.maxFileSize?a.error=n.i18n("maxFileSize"):"number"===$.type(r)&&r<t.minFileSize?a.error=n.i18n("minFileSize"):delete a.error:a.error=n.i18n("acceptFileTypes"),a.error||e.files.error?(e.files.error=!0,i.rejectWith(this,[e])):i.resolveWith(this,[e]),i.promise()}}})}),!function(e,t,i){"use strict";!function e(t,i,n){function a(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return a(i?i:e)},c,c.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(n,a,r){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s,l,u,c,d=n("./modules/handle-dom"),f=n("./modules/utils"),p=n("./modules/handle-swal-dom"),h=n("./modules/handle-click"),m=n("./modules/handle-key"),g=o(m),v=n("./modules/default-params"),b=o(v),y=n("./modules/set-params"),w=o(y);r.default=u=c=function(){function n(e){var t=a;return t[e]===i?b.default[e]:t[e]}var a=arguments[0];if(d.addClass(t.body,"stop-scrolling"),p.resetInput(),a===i)return f.logStr("SweetAlert expects at least 1 attribute!"),!1;var r=f.extend({},b.default);switch(typeof a){case"string":r.title=a,r.text=arguments[1]||"",r.type=arguments[2]||"";break;case"object":if(a.title===i)return f.logStr('Missing "title" argument!'),!1;r.title=a.title;for(var o in b.default)r[o]=n(o);r.confirmButtonText=r.showCancelButton?"Confirm":b.default.confirmButtonText,r.confirmButtonText=n("confirmButtonText"),r.doneFunction=arguments[1]||null;break;default:return f.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof a),!1}w.default(r),p.fixVerticalPosition(),p.openModal(arguments[1]);for(var u=p.getModal(),m=u.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],y=function(e){return h.handleButton(e,r,u)},_=0;_<m.length;_++)for(var x=0;x<v.length;x++){var S=v[x];m[_][S]=y}p.getOverlay().onclick=y,s=e.onkeydown;var C=function(e){return g.default(e,r,u)};e.onkeydown=C,e.onfocus=function(){setTimeout(function(){l!==i&&(l.focus(),l=i)},0)},c.enableButtons()},u.setDefaults=c.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");f.extend(b.default,e)},u.close=c.close=function(){var n=p.getModal();d.fadeOut(p.getOverlay(),5),d.fadeOut(n,5),d.removeClass(n,"showSweetAlert"),d.addClass(n,"hideSweetAlert"),d.removeClass(n,"visible");var a=n.querySelector(".sa-icon.sa-success");d.removeClass(a,"animate"),d.removeClass(a.querySelector(".sa-tip"),"animateSuccessTip"),d.removeClass(a.querySelector(".sa-long"),"animateSuccessLong");var r=n.querySelector(".sa-icon.sa-error");d.removeClass(r,"animateErrorIcon"),d.removeClass(r.querySelector(".sa-x-mark"),"animateXMark");var o=n.querySelector(".sa-icon.sa-warning");return d.removeClass(o,"pulseWarning"),d.removeClass(o.querySelector(".sa-body"),"pulseWarningIns"),d.removeClass(o.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=n.getAttribute("data-custom-class");d.removeClass(n,e)},300),d.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=i,clearTimeout(n.timeout),!0},u.showInputError=c.showInputError=function(e){var t=p.getModal(),i=t.querySelector(".sa-input-error");d.addClass(i,"show");var n=t.querySelector(".sa-error-container");d.addClass(n,"show"),n.querySelector("p").innerHTML=e,setTimeout(function(){u.enableButtons()},1),t.querySelector("input").focus()},u.resetInputError=c.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=p.getModal(),i=t.querySelector(".sa-input-error");d.removeClass(i,"show");var n=t.querySelector(".sa-error-container");d.removeClass(n,"show")},u.disableButtons=c.disableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");t.disabled=!0,i.disabled=!0},u.enableButtons=c.enableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");t.disabled=!1,i.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=u:f.logStr("SweetAlert is a frontend module!"),a.exports=r.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};i.default=n,t.exports=i.default},{}],3:[function(t,i,n){Object.defineProperty(n,"__esModule",{value:!0});var a=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),o=function(t,i,n){function o(e){h&&i.confirmButtonColor&&(p.style.backgroundColor=e)}var u,c,d,f=t||e.event,p=f.target||f.srcElement,h=-1!==p.className.indexOf("confirm"),m=-1!==p.className.indexOf("sweet-overlay"),g=r.hasClass(n,"visible"),v=i.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(h&&i.confirmButtonColor&&(u=i.confirmButtonColor,c=a.colorLuminance(u,-.04),d=a.colorLuminance(u,-.14)),f.type){case"mouseover":o(c);break;case"mouseout":o(u);break;case"mousedown":o(d);break;case"mouseup":o(c);break;case"focus":var b=n.querySelector("button.confirm"),y=n.querySelector("button.cancel");h?y.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=n===p,_=r.isDescendant(n,p);if(!w&&!_&&g&&!i.allowOutsideClick)break;h&&v&&g?s(n,i):v&&g||m?l(n,i):r.isDescendant(n,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},s=function(e,t){var i=!0;r.hasClass(e,"show-input")&&(i=e.querySelector("input").value,i||(i="")),t.doneFunction(i),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var i=String(t.doneFunction).replace(/\s/g,""),n="function("===i.substring(0,9)&&")"!==i.substring(9,10);n&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};n.default={handleButton:o,handleConfirm:s,handleCancel:l},i.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(i,n,a){Object.defineProperty(a,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},o=function(e,t){r(e,t)||(e.className+=" "+t)},s=function(e,t){var i=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}},l=function(e){var i=t.createElement("div");return i.appendChild(t.createTextNode(e)),i.innerHTML},u=function(e){e.style.opacity="",e.style.display="block"},c=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},f=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},p=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode}return!1},h=function(e){e.style.left="-9999px",e.style.display="block";var t,i=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((i+t)/2)+"px"},m=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-i)/100,i=+new Date,+e.style.opacity<1&&setTimeout(n,t)});n()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var i=+new Date,n=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-i)/100,i=+new Date,+e.style.opacity>0?setTimeout(n,t):e.style.display="none"});n()},v=function(i){if("function"==typeof MouseEvent){var n=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}else if(t.createEvent){var a=t.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}else t.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},b=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};a.hasClass=r,a.addClass=o,a.removeClass=s,a.escapeHtml=l,a._show=u,a.show=c,a._hide=d,a.hide=f,a.isDescendant=p,a.getTopMargin=h,a.fadeIn=m,a.fadeOut=g,a.fireClick=v,a.stopEventPropagation=b},{}],5:[function(t,n,a){Object.defineProperty(a,"__esModule",{value:!0});var r=t("./handle-dom"),o=t("./handle-swal-dom"),s=function(t,n,a){var s=t||e.event,l=s.keyCode||s.which,u=a.querySelector("button.confirm"),c=a.querySelector("button.cancel"),d=a.querySelectorAll("button[tabindex]");
if(-1!==[9,13,32,27].indexOf(l)){for(var f=s.target||s.srcElement,p=-1,h=0;h<d.length;h++)if(f===d[h]){p=h;break}9===l?(f=-1===p?u:p===d.length-1?d[0]:d[p+1],r.stopEventPropagation(s),f.focus(),n.confirmButtonColor&&o.setFocusStyle(f,n.confirmButtonColor)):13===l?("INPUT"===f.tagName&&(f=u,u.focus()),f=-1===p?u:i):27===l&&n.allowEscapeKey===!0?(f=c,r.fireClick(f,s)):f=i}};a.default=s,n.exports=a.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(i,n,a){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var o=i("./utils"),s=i("./handle-dom"),l=i("./default-params"),u=r(l),c=i("./injected-html"),d=r(c),f=".sweet-alert",p=".sweet-overlay",h=function(){var e=t.createElement("div");for(e.innerHTML=d.default;e.firstChild;)t.body.appendChild(e.firstChild)},m=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(f);return e||(h(),e=m()),e}),g=function(){var e=m();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(p)},b=function(e,t){var i=o.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+i+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},y=function(i){var n=m();s.fadeIn(v(),10),s.show(n),s.addClass(n,"showSweetAlert"),s.removeClass(n,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var a=n.querySelector("button.confirm");a.focus(),setTimeout(function(){s.addClass(n,"visible")},500);var r=n.getAttribute("data-timer");if("null"!==r&&""!==r){var o=i;n.timeout=setTimeout(function(){var e=(o||null)&&"true"===n.getAttribute("data-has-done-function");e?o(null):sweetAlert.close()},r)}},w=function(){var e=m(),t=g();s.removeClass(e,"show-input"),t.value=u.default.inputValue,t.setAttribute("type",u.default.inputType),t.setAttribute("placeholder",u.default.inputPlaceholder),_()},_=function(e){if(e&&13===e.keyCode)return!1;var t=m(),i=t.querySelector(".sa-input-error");s.removeClass(i,"show");var n=t.querySelector(".sa-error-container");s.removeClass(n,"show")},x=function(){var e=m();e.style.marginTop=s.getTopMargin(m())};a.sweetAlertInitialize=h,a.getModal=m,a.getOverlay=v,a.getInput=g,a.setFocusStyle=b,a.openModal=y,a.resetInput=w,a.resetInputError=_,a.fixVerticalPosition=x},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';i.default=n,t.exports=i.default},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./utils"),r=e("./handle-swal-dom"),o=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=r.getModal(),n=t.querySelector("h2"),l=t.querySelector("p"),u=t.querySelector("button.cancel"),c=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:o.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:o.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&o.show(l),e.customClass)o.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");o.removeClass(t,d),t.setAttribute("data-custom-class","")}if(o.hide(t.querySelectorAll(".sa-icon")),e.type&&!a.isIE8()){var f=function(){for(var n=!1,a=0;a<s.length;a++)if(e.type===s[a]){n=!0;break}if(!n)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],u=i;-1!==l.indexOf(e.type)&&(u=t.querySelector(".sa-icon.sa-"+e.type),o.show(u));var c=r.getInput();switch(e.type){case"success":o.addClass(u,"animate"),o.addClass(u.querySelector(".sa-tip"),"animateSuccessTip"),o.addClass(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":o.addClass(u,"animateErrorIcon"),o.addClass(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":o.addClass(u,"pulseWarning"),o.addClass(u.querySelector(".sa-body"),"pulseWarningIns"),o.addClass(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),o.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof f)return f.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",o.show(p);var h=80,m=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],b=g[1];v&&b?(h=v,m=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+h+"px; height:"+m+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":o.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?c.style.display="inline-block":o.hide(c),e.cancelButtonText&&(u.innerHTML=o.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(c.innerHTML=o.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(c.style.backgroundColor=e.confirmButtonColor,c.style.borderLeftColor=e.confirmLoadingButtonColor,c.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(c,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var y=!!e.doneFunction;t.setAttribute("data-has-done-function",y),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};n.default=l,t.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,i,n){Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},o=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,n,a="#";for(n=0;3>n;n++)i=parseInt(e.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),a+=("00"+i).substr(i.length);return a};n.extend=a,n.hexToRgb=r,n.isIE8=o,n.logStr=s,n.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function($,e){"use strict";function t(e,t,i,n){for(var a=[],r=0;r<e.length;r++){var o=e[r];if(o){var s=tinycolor(o),l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(t,o)?" sp-thumb-active":"";var u=s.toString(n.preferredFormat||"rgb"),c=m?"background-color:"+s.toRgbString():"filter:"+s.toFilter();a.push('<span title="'+u+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+c+';" /></span>')}else{var d="sp-clear-display";a.push($("<div />").append($('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",n.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+a.join("")+"</div>"}function i(){for(var e=0;e<p.length;e++)p[e]&&p[e].hide()}function n(e,t){var i=$.extend({},f,e);return i.callbacks={move:l(i.move,t),change:l(i.change,t),show:l(i.show,t),hide:l(i.hide,t),beforeShow:l(i.beforeShow,t)},i}function a(a,o){function l(){if(G.showPaletteOnly&&(G.showPalette=!0),$e.text(G.showPaletteOnly?G.togglePaletteMoreText:G.togglePaletteLessText),G.palette){pe=G.palette.slice(0),he=$.isArray(pe[0])?pe:[pe],me={};for(var e=0;e<he.length;e++)for(var t=0;t<he[e].length;t++){var i=tinycolor(he[e][t]).toRgbString();me[i]=!0}}Ce.toggleClass("sp-flat",V),Ce.toggleClass("sp-input-disabled",!G.showInput),Ce.toggleClass("sp-alpha-enabled",G.showAlpha),Ce.toggleClass("sp-clear-enabled",Ke),Ce.toggleClass("sp-buttons-disabled",!G.showButtons),Ce.toggleClass("sp-palette-buttons-disabled",!G.togglePaletteOnly),Ce.toggleClass("sp-palette-disabled",!G.showPalette),Ce.toggleClass("sp-palette-only",G.showPaletteOnly),Ce.toggleClass("sp-initial-disabled",!G.showInitial),Ce.addClass(G.className).addClass(G.containerClassName),N()}function f(){function e(e){return e.data&&e.data.ignore?(O($(e.target).closest(".sp-thumb-el").data("color")),M()):(O($(e.target).closest(".sp-thumb-el").data("color")),M(),H(!0),G.hideAfterPaletteSelect&&I()),!1}if(h&&Ce.find("*:not(input)").attr("unselectable","on"),l(),Ue&&xe.after(ze).hide(),Ke||qe.hide(),V)xe.after(Ce).hide();else{var t="parent"===G.appendTo?xe.parent():$(G.appendTo);1!==t.length&&(t=$("body")),t.append(Ce)}b(),Le.bind("click.spectrum touchstart.spectrum",function(e){Se||T(),e.stopPropagation(),$(e.target).is("input")||e.preventDefault()}),(xe.is(":disabled")||G.disabled===!0)&&L(),Ce.click(s),je.change(P),je.bind("paste",function(){setTimeout(P,1)}),je.keydown(function(e){13==e.keyCode&&P()}),Re.text(G.cancelText),Re.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),D(),I()}),qe.attr("title",G.clearText),qe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Je=!0,M(),V&&H(!0)}),He.text(G.chooseText),He.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),h&&je.is(":focus")&&je.trigger("change"),A()&&(H(!0),I())}),$e.text(G.showPaletteOnly?G.togglePaletteMoreText:G.togglePaletteLessText),$e.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),G.showPaletteOnly=!G.showPaletteOnly,G.showPaletteOnly||V||Ce.css("left","-="+(Pe.outerWidth(!0)+5)),l()}),u(De,function(e,t,i){fe=e/oe,Je=!1,i.shiftKey&&(fe=Math.round(10*fe)/10),M()},S,C),u(Ee,function(e,t){ue=parseFloat(t/ae),Je=!1,G.showAlpha||(fe=1),M()},S,C),u(Te,function(e,t,i){if(i.shiftKey){if(!ye){var n=ce*te,a=ie-de*ie,r=Math.abs(e-n)>Math.abs(t-a);ye=r?"x":"y"}}else ye=null;var o=!ye||"x"===ye,s=!ye||"y"===ye;o&&(ce=parseFloat(e/te)),s&&(de=parseFloat((ie-t)/ie)),Je=!1,G.showAlpha||(fe=1),M()},S,C),Ge?(O(Ge),R(),Xe=G.preferredFormat||tinycolor(Ge).format,y(Ge)):R(),V&&k();var i=h?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ae.delegate(".sp-thumb-el",i,e),Me.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}function b(){if(Q&&window.localStorage){try{var e=window.localStorage[Q].split(",#");e.length>1&&(delete window.localStorage[Q],$.each(e,function(e,t){y(t)}))}catch(e){}try{ge=window.localStorage[Q].split(";")}catch(e){}}}function y(e){if(X){var t=tinycolor(e).toRgbString();if(!me[t]&&$.inArray(t,ge)===-1)for(ge.push(t);ge.length>ve;)ge.shift();if(Q&&window.localStorage)try{window.localStorage[Q]=ge.join(";")}catch(e){}}}function w(){var e=[];if(G.showPalette)for(var t=0;t<ge.length;t++){var i=tinycolor(ge[t]).toRgbString();me[i]||e.push(ge[t])}return e.reverse().slice(0,G.maxSelectionSize)}function _(){var e=j(),i=$.map(he,function(i,n){return t(i,e,"sp-palette-row sp-palette-row-"+n,G)});b(),ge&&i.push(t(w(),e,"sp-palette-row sp-palette-row-selection",G)),Ae.html(i.join(""))}function x(){if(G.showInitial){var e=Ve,i=j();Me.html(t([e,i],i,"sp-palette-row-initial",G))}}function S(){(ie<=0||te<=0||ae<=0)&&N(),ee=!0,Ce.addClass(be),ye=null,xe.trigger("dragstart.spectrum",[j()])}function C(){ee=!1,Ce.removeClass(be),xe.trigger("dragstop.spectrum",[j()])}function P(){var e=je.val();if(null!==e&&""!==e||!Ke){var t=tinycolor(e);t.isValid()?(O(t),H(!0)):je.addClass("sp-validation-error")}else O(null),H(!0)}function T(){Y?I():k()}function k(){var e=$.Event("beforeShow.spectrum");return Y?void N():(xe.trigger(e,[j()]),void(K.beforeShow(j())===!1||e.isDefaultPrevented()||(i(),Y=!0,$(we).bind("keydown.spectrum",E),$(we).bind("click.spectrum",F),$(window).bind("resize.spectrum",Z),ze.addClass("sp-active"),Ce.removeClass("sp-hidden"),N(),R(),Ve=j(),x(),K.show(Ve),xe.trigger("show.spectrum",[Ve]))))}function E(e){27===e.keyCode&&I()}function F(e){2!=e.button&&(ee||(Qe?H(!0):D(),I()))}function I(){Y&&!V&&(Y=!1,$(we).unbind("keydown.spectrum",E),$(we).unbind("click.spectrum",F),$(window).unbind("resize.spectrum",Z),ze.removeClass("sp-active"),Ce.addClass("sp-hidden"),K.hide(j()),xe.trigger("hide.spectrum",[j()]))}function D(){O(Ve,!0)}function O(e,t){if(tinycolor.equals(e,j()))return void R();var i,n;!e&&Ke?Je=!0:(Je=!1,i=tinycolor(e),n=i.toHsv(),ue=n.h%360/360,ce=n.s,de=n.v,fe=n.a),R(),i&&i.isValid()&&!t&&(Xe=G.preferredFormat||i.getFormat())}function j(e){return e=e||{},Ke&&Je?null:tinycolor.fromRatio({h:ue,s:ce,v:de,a:Math.round(100*fe)/100},{format:e.format||Xe})}function A(){return!je.hasClass("sp-validation-error")}function M(){R(),K.move(j()),xe.trigger("move.spectrum",[j()])}function R(){je.removeClass("sp-validation-error"),q();var e=tinycolor.fromRatio({h:ue,s:1,v:1});Te.css("background-color",e.toHexString());var t=Xe;fe<1&&(0!==fe||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var i=j({format:t}),n="";if(We.removeClass("sp-clear-display"),We.css("background-color","transparent"),!i&&Ke)We.addClass("sp-clear-display");else{var a=i.toHexString(),r=i.toRgbString();if(m||1===i.alpha?We.css("background-color",r):(We.css("background-color","transparent"),We.css("filter",i.toFilter())),G.showAlpha){var o=i.toRgb();o.a=0;var s=tinycolor(o).toRgbString(),l="linear-gradient(left, "+s+", "+a+")";h?Ie.css("filter",tinycolor(s).toFilter({gradientType:1},a)):(Ie.css("background","-webkit-"+l),Ie.css("background","-moz-"+l),Ie.css("background","-ms-"+l),Ie.css("background","linear-gradient(to right, "+s+", "+a+")"))}n=i.toString(t)}G.showInput&&je.val(n),G.showPalette&&_(),x()}function q(){var e=ce,t=de;if(Ke&&Je)Oe.hide(),Fe.hide(),ke.hide();else{Oe.show(),Fe.show(),ke.show();var i=e*te,n=ie-t*ie;i=Math.max(-ne,Math.min(te-ne,i-ne)),n=Math.max(-ne,Math.min(ie-ne,n-ne)),ke.css({top:n+"px",left:i+"px"});var a=fe*oe;Oe.css({left:a-se/2+"px"});var r=ue*ae;Fe.css({top:r-le+"px"})}}function H(e){var t=j(),i="",n=!tinycolor.equals(t,Ve);t&&(i=t.toString(Xe),y(t)),Ne&&xe.val(i),e&&n&&(K.change(t),xe.trigger("change",[t]))}function N(){Y&&(te=Te.width(),ie=Te.height(),ne=ke.height(),re=Ee.width(),ae=Ee.height(),le=Fe.height(),oe=De.width(),se=Oe.width(),V||(Ce.css("position","absolute"),G.offset?Ce.offset(G.offset):Ce.offset(r(Ce,Le))),q(),G.showPalette&&_(),xe.trigger("reflow.spectrum"))}function B(){xe.show(),Le.unbind("click.spectrum touchstart.spectrum"),Ce.remove(),ze.remove(),p[Ze.id]=null}function U(t,i){return t===e?$.extend({},G):i===e?G[t]:(G[t]=i,"preferredFormat"===t&&(Xe=G.preferredFormat),void l())}function z(){Se=!1,xe.attr("disabled",!1),Le.removeClass("sp-disabled")}function L(){I(),Se=!0,xe.attr("disabled",!0),Le.addClass("sp-disabled")}function W(e){G.offset=e,N()}var G=n(o,a),V=G.flat,X=G.showSelectionPalette,Q=G.localStorageKey,J=G.theme,K=G.callbacks,Z=c(N,10),Y=!1,ee=!1,te=0,ie=0,ne=0,ae=0,re=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,fe=1,pe=[],he=[],me={},ge=G.selectionPalette.slice(0),ve=G.maxSelectionSize,be="sp-dragging",ye=null,we=a.ownerDocument,_e=we.body,xe=$(a),Se=!1,Ce=$(v,we).addClass(J),Pe=Ce.find(".sp-picker-container"),Te=Ce.find(".sp-color"),ke=Ce.find(".sp-dragger"),Ee=Ce.find(".sp-hue"),Fe=Ce.find(".sp-slider"),Ie=Ce.find(".sp-alpha-inner"),De=Ce.find(".sp-alpha"),Oe=Ce.find(".sp-alpha-handle"),je=Ce.find(".sp-input"),Ae=Ce.find(".sp-palette"),Me=Ce.find(".sp-initial"),Re=Ce.find(".sp-cancel"),qe=Ce.find(".sp-clear"),He=Ce.find(".sp-choose"),$e=Ce.find(".sp-palette-toggle"),Ne=xe.is("input"),Be=Ne&&"color"===xe.attr("type")&&d(),Ue=Ne&&!V,ze=Ue?$(g).addClass(J).addClass(G.className).addClass(G.replacerClassName):$([]),Le=Ue?ze:xe,We=ze.find(".sp-preview-inner"),Ge=G.color||Ne&&xe.val(),Ve=!1,Xe=G.preferredFormat,Qe=!G.showButtons||G.clickoutFiresChange,Je=!Ge,Ke=G.allowEmpty&&!Be;f();var Ze={show:k,hide:I,toggle:T,reflow:N,option:U,enable:z,disable:L,offset:W,set:function(e){O(e),H()},get:j,destroy:B,container:Ce};return Ze.id=p.push(Ze)-1,Ze}function r(e,t){var i=0,n=e.outerWidth(),a=e.outerHeight(),r=t.outerHeight(),o=e[0].ownerDocument,s=o.documentElement,l=s.clientWidth+$(o).scrollLeft(),u=s.clientHeight+$(o).scrollTop(),c=t.offset();return c.top+=r,c.left-=Math.min(c.left,c.left+n>l&&l>n?Math.abs(c.left+n-l):0),c.top-=Math.min(c.top,c.top+a>u&&u>a?Math.abs(a+r-i):i),c}function o(){}function s(e){e.stopPropagation()}function l(e,t){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}function u(e,t,i,n){function a(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function r(i){if(u){if(h&&l.documentMode<9&&!i.button)return s();var n=i.originalEvent&&i.originalEvent.touches&&i.originalEvent.touches[0],r=n&&n.pageX||i.pageX,o=n&&n.pageY||i.pageY,m=Math.max(0,Math.min(r-c.left,f)),g=Math.max(0,Math.min(o-c.top,d));p&&a(i),t.apply(e,[m,g,i])}}function o(t){var n=t.which?3==t.which:2==t.button;n||u||i.apply(e,arguments)!==!1&&(u=!0,d=$(e).height(),f=$(e).width(),c=$(e).offset(),$(l).bind(m),$(l.body).addClass("sp-dragging"),r(t),a(t))}function s(){u&&($(l).unbind(m),$(l.body).removeClass("sp-dragging"),setTimeout(function(){n.apply(e,arguments)},0)),u=!1}t=t||function(){},i=i||function(){},n=n||function(){};var l=document,u=!1,c={},d=0,f=0,p="ontouchstart"in window,m={};m.selectstart=a,m.dragstart=a,m["touchmove mousemove"]=r,m["touchend mouseup"]=s,$(e).bind("touchstart mousedown",o)}function c(e,t,i){var n;return function(){var a=this,r=arguments,o=function(){n=null,e.apply(a,r)};i&&clearTimeout(n),!i&&n||(n=setTimeout(o,t))}}function d(){return $.fn.spectrum.inputTypeColorSupport()}var f={beforeShow:o,move:o,change:o,show:o,hide:o,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],h=!!/msie/i.exec(window.navigator.userAgent),m=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),i=t.style;return i.cssText="background-color:rgba(0,0,0,.5)",e(i.backgroundColor,"rgba")||e(i.backgroundColor,"hsla")}(),g=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),v=function(){var e="";if(h)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";$.fn.spectrum=function(e,t){if("string"==typeof e){var i=this,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=p[$(this).data(b)];if(t){var a=t[e];if(!a)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?i=t.get():"container"==e?i=t.container:"option"==e?i=t.option.apply(t,n):"destroy"==e?(t.destroy(),$(this).removeData(b)):a.apply(t,n)}}),i}return this.spectrum("destroy").each(function(){var t=$.extend({},e,$(this).data()),i=a(this,t);$(this).data(b,i.id)})},$.fn.spectrum.load=!0,$.fn.spectrum.loadOpts={},$.fn.spectrum.draggable=u,$.fn.spectrum.defaults=f,$.fn.spectrum.inputTypeColorSupport=function e(){if("undefined"==typeof e._cachedResult){var t=$("<input type='color'/>")[0];e._cachedResult="color"===t.type&&""!==t.value}return e._cachedResult},$.spectrum={},$.spectrum.localization={},$.spectrum.palettes={},$.fn.spectrum.processNativeColorInputs=function(){var e=$("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){function e(e){var i={r:0,g:0,b:0},a=1,o=!1,s=!1;return"string"==typeof e&&(e=O(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(i=t(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=F(e.s),e.v=F(e.v),i=r(e.h,e.s,e.v),o=!0,s="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=F(e.s),e.l=F(e.l),i=n(e.h,e.s,e.l),o=!0,s="hsl"),e.hasOwnProperty("a")&&(a=e.a)),a=x(a),{ok:o,format:e.format||s,r:H(255,N(i.r,0)),g:H(255,N(i.g,0)),b:H(255,N(i.b,0)),a:a}}function t(e,t,i){return{r:255*S(e,255),g:255*S(t,255),b:255*S(i,255)}}function i(e,t,i){e=S(e,255),t=S(t,255),i=S(i,255);var n=N(e,t,i),a=H(e,t,i),r,o,s=(n+a)/2;if(n==a)r=o=0;else{var l=n-a;switch(o=s>.5?l/(2-n-a):l/(n+a),n){case e:r=(t-i)/l+(t<i?6:0);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function n(e,t,i){function n(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var a,r,o;if(e=S(e,360),t=S(t,100),i=S(i,100),0===t)a=r=o=i;else{var s=i<.5?i*(1+t):i+t-i*t,l=2*i-s;a=n(l,s,e+1/3),r=n(l,s,e),o=n(l,s,e-1/3)}return{r:255*a,g:255*r,b:255*o}}function a(e,t,i){e=S(e,255),t=S(t,255),i=S(i,255);var n=N(e,t,i),a=H(e,t,i),r,o,s=n,l=n-a;if(o=0===n?0:l/n,n==a)r=0;else{switch(n){case e:r=(t-i)/l+(t<i?6:0);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function r(e,t,i){e=6*S(e,360),t=S(t,100),i=S(i,100);var n=R.floor(e),a=e-n,r=i*(1-t),o=i*(1-a*t),s=i*(1-(1-a)*t),l=n%6,u=[i,o,r,r,s,i][l],c=[s,i,i,o,r,r][l],d=[r,r,s,i,i,o][l];return{r:255*u,g:255*c,b:255*d}}function o(e,t,i,n){var a=[E(q(e).toString(16)),E(q(t).toString(16)),E(q(i).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function s(e,t,i,n){var a=[E(I(n)),E(q(e).toString(16)),E(q(t).toString(16)),E(q(i).toString(16))];return a.join("")}function l(e,t){t=0===t?0:t||10;var i=U(e).toHsl();return i.s-=t/100,i.s=C(i.s),U(i)}function u(e,t){t=0===t?0:t||10;var i=U(e).toHsl();return i.s+=t/100,i.s=C(i.s),U(i)}function c(e){return U(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var i=U(e).toHsl();return i.l+=t/100,i.l=C(i.l),U(i)}function f(e,t){t=0===t?0:t||10;var i=U(e).toRgb();return i.r=N(0,H(255,i.r-q(255*-(t/100)))),i.g=N(0,H(255,i.g-q(255*-(t/100)))),i.b=N(0,H(255,i.b-q(255*-(t/100)))),U(i)}function p(e,t){t=0===t?0:t||10;var i=U(e).toHsl();return i.l-=t/100,i.l=C(i.l),U(i)}function h(e,t){var i=U(e).toHsl(),n=(q(i.h)+t)%360;return i.h=n<0?360+n:n,U(i)}function m(e){var t=U(e).toHsl();return t.h=(t.h+180)%360,U(t)}function g(e){var t=U(e).toHsl(),i=t.h;return[U(e),U({h:(i+120)%360,s:t.s,l:t.l}),U({h:(i+240)%360,s:t.s,l:t.l})]}function v(e){var t=U(e).toHsl(),i=t.h;return[U(e),U({h:(i+90)%360,s:t.s,l:t.l}),U({h:(i+180)%360,s:t.s,l:t.l}),U({h:(i+270)%360,s:t.s,l:t.l})]}function b(e){var t=U(e).toHsl(),i=t.h;return[U(e),U({h:(i+72)%360,s:t.s,l:t.l}),U({h:(i+216)%360,s:t.s,l:t.l})]}function y(e,t,i){t=t||6,i=i||30;var n=U(e).toHsl(),a=360/i,r=[U(e)];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,r.push(U(n));return r}function w(e,t){t=t||6;for(var i=U(e).toHsv(),n=i.h,a=i.s,r=i.v,o=[],s=1/t;t--;)o.push(U({h:n,s:a,v:r})),r=(r+s)%1;return o}function _(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function x(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function S(e,t){T(e)&&(e="100%");var i=k(e);return e=H(t,N(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),R.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return H(1,N(0,e))}function P(e){return parseInt(e,16)}function T(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function k(e){return"string"==typeof e&&e.indexOf("%")!=-1}function E(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function D(e){return P(e)/255}function O(e){e=e.replace(j,"").replace(A,"").toLowerCase();var t=!1;if(z[e])e=z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=W.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=W.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=W.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=W.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=W.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=W.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=W.hex8.exec(e))?{a:D(i[1]),r:P(i[2]),g:P(i[3]),b:P(i[4]),format:t?"name":"hex8"}:(i=W.hex6.exec(e))?{r:P(i[1]),g:P(i[2]),b:P(i[3]),format:t?"name":"hex"}:!!(i=W.hex3.exec(e))&&{r:P(i[1]+""+i[1]),g:P(i[2]+""+i[2]),b:P(i[3]+""+i[3]),format:t?"name":"hex"}}var j=/^[\s,#]+/,A=/\s+$/,M=0,R=Math,q=R.round,H=R.min,N=R.max,B=R.random,U=function(t,i){if(t=t?t:"",i=i||{},t instanceof U)return t;if(!(this instanceof U))return new U(t,i);var n=e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=q(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=n.ok,this._tc_id=M++};U.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=x(e),this._roundA=q(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),t=q(360*e.h),i=q(100*e.s),n=q(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=q(360*e.h),n=q(100*e.s),a=q(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+a+"%)":"hsla("+t+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return o(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*S(this._r,255))+"%",g:q(100*S(this._g,255))+"%",b:q(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+q(100*S(this._r,255))+"%, "+q(100*S(this._g,255))+"%, "+q(100*S(this._b,255))+"%)":"rgba("+q(100*S(this._r,255))+"%, "+q(100*S(this._g,255))+"%, "+q(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(L[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),i=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=U(e);i=a.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,n=this._a<1&&this._a>=0,a=!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return a?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},U.fromRatio=function(e,t){if("object"==typeof e){var i={};for(var n in e)e.hasOwnProperty(n)&&("a"===n?i[n]=e[n]:i[n]=F(e[n]));e=i}return U(e,t)},U.equals=function(e,t){return!(!e||!t)&&U(e).toRgbString()==U(t).toRgbString()},U.random=function(){return U.fromRatio({r:B(),g:B(),b:B()})},U.mix=function(e,t,i){i=0===i?0:i||50;var n=U(e).toRgb(),a=U(t).toRgb(),r=i/100,o=2*r-1,s=a.a-n.a,l;l=o*s==-1?o:(o+s)/(1+o*s),l=(l+1)/2;var u=1-l,c={r:a.r*l+n.r*u,g:a.g*l+n.g*u,b:a.b*l+n.b*u,a:a.a*r+n.a*(1-r)};return U(c)},U.readability=function(e,t){
var i=U(e),n=U(t),a=i.toRgb(),r=n.toRgb(),o=i.getBrightness(),s=n.getBrightness(),l=Math.max(a.r,r.r)-Math.min(a.r,r.r)+Math.max(a.g,r.g)-Math.min(a.g,r.g)+Math.max(a.b,r.b)-Math.min(a.b,r.b);return{brightness:Math.abs(o-s),color:l}},U.isReadable=function(e,t){var i=U.readability(e,t);return i.brightness>125&&i.color>500},U.mostReadable=function(e,t){for(var i=null,n=0,a=!1,r=0;r<t.length;r++){var o=U.readability(e,t[r]),s=o.brightness>125&&o.color>500,l=3*(o.brightness/125)+o.color/500;(s&&!a||s&&a&&l>n||!s&&!a&&l>n)&&(a=s,n=l,i=U(t[r]))}return i};var z=U.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=U.hexNames=_(z),W=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",i="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",a="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+a),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=U}(),$(function(){$.fn.spectrum.load&&$.fn.spectrum.processNativeColorInputs()})}),function($){var e=$.spectrum.localization.es={cancelText:"Cancelar",chooseText:"Elegir",clearText:"Borrar color seleccionado",noColorSelectedText:"Ningún color seleccionado",togglePaletteMoreText:"Más",togglePaletteLessText:"Menos"};$.extend($.fn.spectrum.defaults,e)}(jQuery);var Panel=function(){function e(){$("table.table .delete-data").on("click",function(e){e.preventDefault();var t=$(this).closest("tr")[0],i=$(t).children("td:first").html(),n=$(t).find("form");swal({title:"¡Cuidado!",text:"¿Realmente deseas eliminar el registro: <strong>"+i+"</strong>?",type:"warning",html:!0,showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",closeOnConfirm:!1},function(e){e&&n.submit()})})}function t(){$(window).resize(function(){$(window).width()>992&&$("body.beebmx-panel").removeClass("pushy-open-left")})}function i(){$(".menu-btn").on("click",function(e){e.preventDefault()}),$(".menu-bar").on("click",function(e){e.preventDefault()})}function n(){$(document).keydown(function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return $("form.panel-form").submit(),e.preventDefault(),!1})}return{index:function(){e()},init:function(){n(),t(),i()}}}(),File=function(){var e=[],t=[],i=0,n,a,r,o=0,s=0,l={add:new CustomEvent("fileAdd",{detail:{add:!0}}),del:new CustomEvent("fileDel",{detail:{del:!0}})},u=function(i){$("#beebmx-panel-fileupload").fileupload({autoUpload:!1,paramName:"file",multipart:!0,maxFileSize:1024*i.size*1024,previewMaxWidth:40,previewMaxHeight:40,previewCrop:!1}).on("fileuploadprocessalways",function(t,i){var n=i.files[0],a,o,s=f(n.name);"undefined"==typeof n.error?(r=g(n.type,n),s!==!1?(a=$("#beebmx-panel-files tbody tr").eq(s-1),$(a).children("td").eq(2).html(p(n.size)),$(a).data("remote")?($(a).data("file",i),$(a).data("remote",!1),e.push(i)):(o=d(n.name),e[o]=i,$(a).data("file",i))):(a=document.createElement("tr"),$(a.insertCell(-1)).html(r),$(a.insertCell(-1)).html(n.name),$(a.insertCell(-1)).html(p(n.size)).addClass("hidden-xs"),$(a.insertCell(-1)).html('<a href="#" class="btn btn-transparent btn-md row-remove"><i class="ti-trash"></i></a>'),$(a).data("file",i),$(a).data("remote",!1),$(a).data("basename",n.name),$("#beebmx-panel-files tbody").append(a),e.push(i)),c()):console.log("error",n.error)}).on("fileuploadprogressall",function(e,t){var i=100*o/s,n=parseInt(t.loaded/t.total*100,10)/s+i;$("#beebmx-panel-files .progress > .progress-bar").css("width",n+"%")}).on("fileuploaddone",function(i,n){o++,e.shift(),t.push({file:n.files[0].name,action:"add"}),b()})},c=function(){$("#beebmx-panel-files tbody .row-remove").off("click").on("click",function(i){i.preventDefault(),document.dispatchEvent(l.del);var n=$(this).parent().parent(),a,r,o;$(n).data("remote")?t.push({file:$(n).data("basename"),action:"delete"}):(o=$(n).data("file"),a=d(o.files[0].name),e.splice(a,1)),r=f($(n).data("basename")),$("#beebmx-panel-files tbody tr").eq(r-1).remove()})},d=function(t){var i=!1;return $.each(e,function(e,n){t===n.files[0].name&&(i=e)}),i},f=function(e){var t=!1;return $("#beebmx-panel-files tbody tr").each(function(i,n){e===$(this).data("basename")&&(t=this.rowIndex)}),t},p=function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},h=function(e,t){var i,n=new Image;i=document.createElement("canvas"),i.width=40,i.height=40,n.src=e,n.onload=function(){var e=Math.min(70/n.width,70/n.height);i.getContext("2d").drawImage(n,0,0,n.width,n.height,(i.width-n.width*e)/2,(i.height-n.height*e)/2,n.width*e,n.height*e),t.html(i)}},m=function(){var e,t=$("body.form #beebmx-panel-files tbody tr");t.length&&$.each(t,function(e,t){var i=g($(t).data("mime"),!1,t);i&&$(t).children("td").eq(0).html(i)}),c()},g=function(e,t,i){document.dispatchEvent(l.add);var n=!1;switch(e){case"image/jpeg":case"image/gif":case"image/png":t?n=t.preview:h($(i).data("uri"),$(i).children("td").eq(0));break;case"application/pdf":n='<span class="file-icon"><i class="fa fa-file-pdf-o"></i></span>';break;case"application/zip":n='<span class="file-icon"><i class="fa fa-file-archive-o"></i></span>';break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":n='<span class="file-icon"><i class="fa fa-file-word-o"></i></span>';break;case"application/vnd.ms-excel":n='<span class="file-icon"><i class="fa fa-file-excel-o"></i></span>';break;default:n='<span class="file-icon"><i class="fa fa-file-o"></i></span>'}return n},v=function(){$("form.panel-form").on("submit",function(i){i.preventDefault(),e.length?(s=e.length,b()):($("#beebmx_panel_files_uploaded").val(JSON.stringify(t)),this.submit())})},b=function(){e.length?e[0].submit():$("form.panel-form").submit()};return{init:function(e){u(e),v(),m()}}}(),Select=function(){var e=function(){var e=[],t=$("#beebmx-panel-files tbody tr");return $(t).each(function(t,i){e.push($(i.cells[1]).text())}),e},t=function(e,t){var i=$(e),n=i.find("option").first();i.find("option").remove(),i.append(n),$.each(t,function(e,t){i.append('<option value="'+t+'">'+t+"</option>")})},i=function(i){var n=$("select.dynamic");n.each(function(n,a){switch($(a).data("type")){case"file":t(a,e())}i&&$(a).val($(a).data("init"))})},n=function(){document.addEventListener("fileAdd",function(e){setTimeout(function(){i(!1)})}),document.addEventListener("fileDel",function(e){setTimeout(function(){i(!1)})})},a=function(){i(!0)};return{init:function(){n(),a()}}}(),Textarea=function(){function e(e,t){var i=$(t),n=i.attr("data-height")?i.data("height"):250,a=i.attr("data-plugins")?[i.data("plugins")]:["advlist autolink lists link image preview anchor media table contextmenu paste code"],r=i.attr("data-toolbar")?i.data("toolbar"):"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image media | preview code",o=$("#beebmx-panel-files tbody tr"),s=[];$(o).each(function(e,t){s.push({title:$(t).data("basename"),value:$(t).data("uri")})}),tinymce.init({selector:"#"+t.id,entity_encoding:"raw",language:"es_MX",language_url:e,menubar:!1,statusbar:!1,convert_urls:!1,image_advtab:!0,image_caption:!0,image_description:!0,image_list:s,height:n,plugins:a,toolbar:r})}return{init:function(t){$("textarea.textarea").each(function(i,n){e(t,n)})}}}(),Structure=function(){function e(e){var i=$(e),n=i.data("structure"),a=$("table#table-"+n),r=String(a.data("header")).split("|"),o=String(i.data("fields")).split("|"),s=a.children("thead"),l=a.children("tbody"),u=document.createElement("tr"),c;$.each(r,function(e,t){c=$(document.createElement("th")).html(t),$(u).append(c)}),c=$(document.createElement("th")).html(""),$(u).append(c),s.append(u),t(n),$("#modal-"+n).on("show.bs.modal",function(e){var a=$(this),r=$(e.relatedTarget),s=""!==i.val()?JSON.parse(i.val()):[],l=r.data("data"),u=r.data("index"),c=a.find("form"),d=a.find(".save-structure"),f={},p,h="new";"undefined"==typeof l?h="new":(h="edit",f=JSON.parse(l),$.each(o,function(e,t){p=a.find("#modal-"+t),p.val(f[t]),p.hasClass("textarea")&&tinymce.get("modal-"+t).setContent(f[t])})),$(d).on("click",function(e){$(d).off("click"),a.find("textarea.textarea").length&&tinymce.triggerSave(),$.each(o,function(e,t){f[t]=a.find("#modal-"+t).val()}),"new"===h?s.push(f):s[u]=f,i.val(JSON.stringify(s)),t(n),a.modal("hide")})}),$("#modal-"+n).on("hidden.bs.modal",function(e){var t=$(this),i=t.find("form"),n=t.find(".save-structure");i[0].reset(),$(n).off("click")})}function t(e){var i=$("#"+e),n=""!==i.val()?JSON.parse(i.val()):[],a=$("table#table-"+e),r=a.children("tbody"),o=String(a.data("fields")).split("|"),s=""!==i.val()?JSON.parse(i.val()):[],l,u,c,d;r.html(""),$.each(s,function(t,i){l=document.createElement("tr"),$.each(o,function(e,t){$(l.insertCell(-1)).html(i[t])}),u=l.insertCell(-1),c=$(document.createElement("a")),c.html('<i class="ti-pencil"></i>').attr("href","#").attr("data-toggle","modal").attr("data-target","#modal-"+e).data("index",t).data("data",JSON.stringify(i)),d=$(document.createElement("a")),d.html('<i class="ti-trash"></i>').attr("href","#").addClass("element-delete").data("index",t),$(u).append(c),$(u).append(d),$(l).append(u),r.append(l)}),a.find(".element-delete").on("click",function(a){a.preventDefault(),n.splice($(this).data("index"),1),i.val(JSON.stringify(n)),console.log(n,i,i.val()),t(e)})}function i(e){var t=$(e),i=t.data("structure"),a=""!==t.val()?JSON.parse(t.val()):[],r=$("table#table-"+i),o=String(r.data("header")).split("|"),s=String(t.data("fields")).split("|"),l=r.children("thead"),u=r.children("tbody"),c=document.createElement("tr"),d;$.each(o,function(e,t){d=$(document.createElement("th")).html(t),$(c).append(d)}),l.append(c),n(i)}function n(e){var t=$("#"+e),i=""!==t.val()?JSON.parse(t.val()):[],n=$("table#table-"+e),a=n.children("tbody"),r=String(n.data("fields")).split("|"),o=""!==t.val()?JSON.parse(t.val()):[],s,l,u,c;a.html(""),$.each(o,function(e,t){s=document.createElement("tr"),$.each(r,function(e,i){$(s.insertCell(-1)).html(t[i])}),a.append(s)})}return{init:function(){$("a.modal-add").on("click",function(e){e.preventDefault()}),$("input.structure").each(function(t,i){e(i)})},view:function(){$("input.structure").each(function(e,t){i(t)})}}}(),Colorpicker=function(){function e(e){var t=$(e),i=!!t.attr("data-colors"),n=String(t.data("colors")).split("|"),a=[],r=[],o;$.each(n,function(e,t){o=String(t).split(","),1===o.length?a.push("#"+o[0]):(r=[],$.each(o,function(e,t){r.push("#"+t)}),a.push(r))}),t.spectrum({preferredFormat:"hex",showInput:!0,showPalette:i,palette:a,hideAfterPaletteSelect:!0,allowEmpty:!0})}return{init:function(){$("input.color").each(function(t,i){e(i)})}}}();